<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceApp - Fechamento Mensal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            max-width: 448px;
            margin: 0 auto;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex flex-col h-screen bg-gray-50">
        <!-- Header -->
        <div class="bg-white shadow-sm px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-lg">F$</span>
                </div>
                <span class="font-semibold text-gray-800">FinanceApp</span>
            </div>
            
            <div class="flex items-center space-x-2">
                <button class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                </button>
                <button class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600"><polyline points="15 18 9 12 15 6"/></svg>
                </button>
                <button class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                </button>
            </div>
        </div>

        <!-- Year Filter -->
        <div class="px-4 py-3 bg-white border-b">
            <button onclick="toggleYearFilter()" class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
                <span class="text-sm font-medium">Ano: <span id="selectedYear">2025</span></span>
            </button>
            
            <div id="yearFilterOptions" class="mt-2 flex space-x-2 hidden">
                <button onclick="selectYear(2023)" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200">2023</button>
                <button onclick="selectYear(2024)" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200">2024</button>
                <button onclick="selectYear(2025)" class="px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-blue-500 text-white" id="year2025">2025</button>
            </div>
        </div>

        <!-- Table Content -->
        <div class="flex-1 overflow-auto px-4 py-4">
            <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                <!-- Table Header -->
                <div class="grid grid-cols-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-semibold">
                    <div class="p-3 border-r border-blue-400">Mês</div>
                    <div class="p-3 border-r border-blue-400">Entradas</div>
                    <div class="p-3 border-r border-blue-400">Saídas</div>
                    <div class="p-3">Situação</div>
                </div>

                <!-- Table Body -->
                <div id="monthlyDataBody">
                    <!-- Rows will be inserted here by JavaScript -->
                </div>

                <!-- Summary Row -->
                <div class="grid grid-cols-4 bg-gray-100 font-bold border-t-2 border-gray-300">
                    <div class="p-3 text-sm text-gray-800 border-r">Total</div>
                    <div class="p-3 text-xs text-green-600 border-r" id="totalIncome">R$ 0,00</div>
                    <div class="p-3 text-xs text-red-600 border-r" id="totalExpense">R$ 0,00</div>
                    <div class="p-3 text-xs font-bold" id="totalBalance">R$ 0,00</div>
                </div>
            </div>
        </div>

        <!-- Footer Navigation -->
        <div class="bg-white border-t shadow-lg">
            <div class="grid grid-cols-4 h-16">
                <button class="flex flex-col items-center justify-center space-y-1 text-gray-400 hover:text-blue-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    <span class="text-xs font-medium">Início</span>
                </button>
                
                <button class="flex flex-col items-center justify-center space-y-1 text-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                    <span class="text-xs font-medium">Movimentações</span>
                </button>
                
                <button class="flex flex-col items-center justify-center space-y-1 text-gray-400 hover:text-blue-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
                    <span class="text-xs font-medium">Dívidas</span>
                </button>
                
                <button class="flex flex-col items-center justify-center space-y-1 text-gray-400 hover:text-blue-600 transition-colors">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center -mt-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                    </div>
                    <span class="text-xs font-medium">Nova</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Dados mockados para demonstração
        const monthlyData = [
            { month: 'Janeiro', income: 5500.00, expense: 4200.00 },
            { month: 'Fevereiro', income: 6200.00, expense: 5800.00 },
            { month: 'Março', income: 5800.00, expense: 6100.00 },
            { month: 'Abril', income: 7100.00, expense: 5500.00 },
            { month: 'Maio', income: 6500.00, expense: 6200.00 },
            { month: 'Junho', income: 6800.00, expense: 7200.00 },
            { month: 'Julho', income: 7500.00, expense: 6300.00 },
            { month: 'Agosto', income: 6900.00, expense: 6500.00 },
            { month: 'Setembro', income: 7200.00, expense: 6800.00 },
            { month: 'Outubro', income: 6600.00, expense: 7100.00 },
            { month: 'Novembro', income: 8100.00, expense: 6900.00 },
            { month: 'Dezembro', income: 9200.00, expense: 8500.00 }
        ];

        function formatCurrency(value) {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }

        function getBalance(income, expense) {
            return income - expense;
        }

        function getBalanceColor(balance) {
            if (balance > 0) return 'text-blue-500';
            if (balance < 0) return 'text-red-500';
            return 'text-gray-400';
        }

        function renderTable() {
            const tbody = document.getElementById('monthlyDataBody');
            tbody.innerHTML = '';

            let totalIncome = 0;
            let totalExpense = 0;

            monthlyData.forEach((data, index) => {
                const balance = getBalance(data.income, data.expense);
                const isEmptyMonth = data.income === 0 && data.expense === 0;
                const bgColor = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';

                totalIncome += data.income;
                totalExpense += data.expense;

                const row = `
                    <div class="grid grid-cols-4 border-b last:border-b-0 ${bgColor}">
                        <div class="p-3 text-sm font-medium text-gray-700 border-r">${data.month}</div>
                        <div class="p-3 text-xs text-green-600 font-medium border-r">
                            ${isEmptyMonth ? '-' : formatCurrency(data.income)}
                        </div>
                        <div class="p-3 text-xs text-red-600 font-medium border-r">
                            ${isEmptyMonth ? '-' : formatCurrency(data.expense)}
                        </div>
                        <div class="p-3 text-xs font-bold ${getBalanceColor(balance)}">
                            ${isEmptyMonth ? '-' : formatCurrency(balance)}
                        </div>
                    </div>
                `;
                tbody.innerHTML += row;
            });

            const totalBalance = totalIncome - totalExpense;

            document.getElementById('totalIncome').textContent = formatCurrency(totalIncome);
            document.getElementById('totalExpense').textContent = formatCurrency(totalExpense);
            document.getElementById('totalBalance').textContent = formatCurrency(totalBalance);
            document.getElementById('totalBalance').className = `p-3 text-xs font-bold ${getBalanceColor(totalBalance)}`;
        }

        function toggleYearFilter() {
            const filterOptions = document.getElementById('yearFilterOptions');
            filterOptions.classList.toggle('hidden');
        }

        function selectYear(year) {
            document.getElementById('selectedYear').textContent = year;
            
            // Reset all year buttons
            const buttons = document.querySelectorAll('#yearFilterOptions button');
            buttons.forEach(btn => {
                btn.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-gray-100 text-gray-700 hover:bg-gray-200';
            });
            
            // Highlight selected year
            event.target.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-blue-500 text-white';
            
            toggleYearFilter();
        }

        // Initialize table on page load
        renderTable();
    </script>
</body>
</html>