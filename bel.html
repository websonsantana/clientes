<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#4CAF50">
<title>FitTrack - Seu App de Treino</title>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
}

:root {
  --primary-color: #4CAF50;
  --secondary-color: #2196F3;
  --accent-color: #FF9800;
  --danger-color: #F44336;
  --dark-bg: #1a1a2e;
  --card-bg: #16213e;
  --text-primary: #ffffff;
  --text-secondary: #b8b8b8;
  --border-color: #2d3561;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background: var(--dark-bg);
  color: var(--text-primary);
  overflow-x: hidden;
  padding-bottom: 70px;
  -webkit-font-smoothing: antialiased;
}

/* App Container */
.app-container {
  max-width: 480px;
  margin: 0 auto;
  position: relative;
  min-height: 100vh;
  background: var(--dark-bg);
}

/* Header fixo */
.app-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, var(--primary-color), #45a049);
  padding: 15px 20px;
  z-index: 100;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  max-width: 480px;
  margin: 0 auto;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-title {
  font-size: 1.4em;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8px;
}

.header-user {
  font-size: 0.85em;
  opacity: 0.95;
  font-weight: 500;
}

.menu-btn {
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 1.5em;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Content area */
.app-content {
  padding: 80px 0 80px 0;
  max-width: 480px;
  margin: 0 auto;
}

.page {
  display: none;
  animation: fadeInUp 0.3s ease;
  padding: 0 15px;
}

.page.active {
  display: block;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Welcome Screen */
.welcome-screen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, var(--primary-color), #2e7d32);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px;
  z-index: 1000;
  text-align: center;
}

.welcome-logo {
  font-size: 5em;
  margin-bottom: 20px;
  animation: bounce 1s ease infinite;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.welcome-screen h1 {
  font-size: 2em;
  margin-bottom: 10px;
}

.welcome-screen p {
  font-size: 1.1em;
  opacity: 0.9;
  margin-bottom: 40px;
}

/* Cards */
.card {
  background: var(--card-bg);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  border: 1px solid var(--border-color);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.card-title {
  font-size: 1.2em;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.card-action {
  background: transparent;
  border: none;
  color: var(--primary-color);
  font-size: 1.5em;
  cursor: pointer;
  padding: 5px;
}

/* Stats Grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.stat-card {
  background: linear-gradient(135deg, var(--secondary-color), #1565c0);
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
}

.stat-card.primary {
  background: linear-gradient(135deg, var(--primary-color), #2e7d32);
}

.stat-card.accent {
  background: linear-gradient(135deg, var(--accent-color), #e65100);
}

.stat-label {
  font-size: 0.75em;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.9;
  margin-bottom: 8px;
}

.stat-value {
  font-size: 2em;
  font-weight: 700;
}

/* Profile Card */
.profile-card {
  background: linear-gradient(135deg, var(--primary-color), #2e7d32);
  border-radius: 20px;
  padding: 25px;
  margin-bottom: 20px;
  text-align: center;
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
}

.profile-avatar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3em;
  margin: 0 auto 15px;
  border: 4px solid rgba(255,255,255,0.5);
}

.profile-name {
  font-size: 1.5em;
  font-weight: 700;
  margin-bottom: 5px;
}

.profile-info {
  font-size: 0.9em;
  opacity: 0.9;
}

/* Buttons */
.btn {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 12px;
  font-size: 1em;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-bottom: 12px;
}

.btn:active {
  transform: scale(0.98);
}

.btn-primary {
  background: var(--primary-color);
  color: white;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
}

.btn-secondary {
  background: var(--secondary-color);
  color: white;
  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
}

.btn-accent {
  background: var(--accent-color);
  color: white;
  box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

.btn-outline {
  background: transparent;
  border: 2px solid var(--primary-color);
  color: var(--primary-color);
}

.btn-small {
  padding: 10px 16px;
  font-size: 0.9em;
  width: auto;
  display: inline-flex;
}

/* Forms */
.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  font-size: 0.9em;
  font-weight: 600;
  color: var(--text-secondary);
}

.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 14px;
  background: rgba(255,255,255,0.05);
  border: 2px solid var(--border-color);
  border-radius: 12px;
  color: white;
  font-size: 1em;
  transition: border-color 0.3s ease;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: var(--primary-color);
  background: rgba(255,255,255,0.08);
}

.form-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.form-row-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

/* Treino Card */
.treino-card {
  background: var(--card-bg);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 15px;
  border: 2px solid var(--border-color);
}

.treino-card.hoje {
  background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(46, 125, 50, 0.2));
  border-color: var(--primary-color);
  box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
}

.treino-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border-color);
}

.treino-dia {
  font-size: 0.85em;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.treino-nome {
  font-size: 1.2em;
  font-weight: 700;
  margin: 5px 0;
}

.badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.75em;
  font-weight: 600;
  text-transform: uppercase;
}

.badge-hoje {
  background: var(--primary-color);
  color: white;
}

.badge-descanso {
  background: var(--accent-color);
  color: white;
}

/* Exerc√≠cio Item */
.exercicio-item {
  background: rgba(255,255,255,0.03);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 10px;
  border-left: 4px solid var(--primary-color);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.exercicio-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.exercicio-nome {
  font-size: 1em;
  font-weight: 600;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.exercicio-detalhes {
  display: flex;
  gap: 15px;
  font-size: 0.85em;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.exercicio-detalhes span {
  display: flex;
  align-items: center;
  gap: 4px;
}

.exercicio-gif-container {
  margin-top: 10px;
  border-radius: 8px;
  overflow: hidden;
  display: none;
}

.exercicio-gif {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 8px;
}

.gif-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 180px;
  background: rgba(0,0,0,0.3);
}

/* Modal */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.9);
  z-index: 1000;
  display: none;
  overflow-y: auto;
  padding: 20px;
}

.modal.active {
  display: block;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-content {
  background: var(--card-bg);
  border-radius: 20px;
  max-width: 440px;
  margin: 20px auto;
  position: relative;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from { transform: translateY(50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.modal-header {
  background: linear-gradient(135deg, var(--primary-color), #2e7d32);
  padding: 20px;
  border-radius: 20px 20px 0 0;
  position: relative;
}

.modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  font-size: 1.5em;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-body {
  padding: 20px;
}

/* GIF Container */
.gif-container {
  background: linear-gradient(135deg, #1a1a2e, #0f0f1e);
  border-radius: 16px;
  padding: 10px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 250px;
  position: relative;
  overflow: hidden;
}

.gif-display {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: 12px;
}

.gif-loading-text {
  position: absolute;
  color: var(--text-secondary);
  font-size: 0.9em;
}

/* Instru√ß√µes */
.instrucoes-box {
  background: rgba(33, 150, 243, 0.1);
  border-left: 4px solid var(--secondary-color);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
}

.instrucoes-box h4 {
  color: var(--secondary-color);
  margin-bottom: 12px;
  font-size: 1em;
}

.instrucoes-box ol {
  padding-left: 20px;
  line-height: 1.7;
}

.instrucoes-box li {
  margin-bottom: 8px;
  color: var(--text-secondary);
}

.dicas-box {
  background: rgba(255, 152, 0, 0.1);
  border-left: 4px solid var(--accent-color);
  border-radius: 12px;
  padding: 15px;
}

.dicas-box h4 {
  color: var(--accent-color);
  margin-bottom: 12px;
  font-size: 1em;
}

.dicas-box ul {
  padding-left: 20px;
  line-height: 1.7;
}

.dicas-box li {
  margin-bottom: 8px;
  color: var(--text-secondary);
}

.musculos-tag {
  display: inline-block;
  background: rgba(76, 175, 80, 0.2);
  color: var(--primary-color);
  padding: 8px 12px;
  border-radius: 20px;
  font-size: 0.85em;
  margin: 5px 5px 5px 0;
  font-weight: 600;
}

/* Timeline */
.timeline {
  position: relative;
  padding: 20px 0;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 30px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));
}

.timeline-item {
  position: relative;
  padding-left: 70px;
  margin-bottom: 30px;
}

.timeline-dot {
  position: absolute;
  left: 22px;
  top: 5px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--primary-color);
  border: 3px solid var(--dark-bg);
  box-shadow: 0 0 0 3px var(--primary-color);
}

.timeline-content {
  background: var(--card-bg);
  border-radius: 12px;
  padding: 15px;
  border: 1px solid var(--border-color);
}

.timeline-date {
  font-size: 0.75em;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 5px;
}

.timeline-title {
  font-size: 1.1em;
  font-weight: 600;
  margin-bottom: 5px;
}

/* Hist√≥rico Medi√ß√µes */
.medicao-resumo {
  background: var(--card-bg);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 12px;
  border: 1px solid var(--border-color);
}

.medicao-data {
  font-size: 0.85em;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.medicao-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.medicao-item {
  text-align: center;
}

.medicao-label {
  font-size: 0.75em;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

.medicao-valor {
  font-size: 1.2em;
  font-weight: 700;
  color: var(--primary-color);
}

/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--card-bg);
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-around;
  padding: 8px 0;
  z-index: 100;
  max-width: 480px;
  margin: 0 auto;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
}

.nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px 0;
  cursor: pointer;
  transition: all 0.3s ease;
  border: none;
  background: transparent;
  color: var(--text-secondary);
}

.nav-item.active {
  color: var(--primary-color);
}

.nav-icon {
  font-size: 1.5em;
  margin-bottom: 4px;
  transition: transform 0.3s ease;
}

.nav-item.active .nav-icon {
  transform: scale(1.1);
}

.nav-label {
  font-size: 0.7em;
  font-weight: 600;
  letter-spacing: 0.3px;
}

/* Section Header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 2px solid var(--border-color);
}

.section-title {
  font-size: 1.5em;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: 60px 20px;
}

.empty-icon {
  font-size: 4em;
  margin-bottom: 15px;
  opacity: 0.3;
}

.empty-text {
  color: var(--text-secondary);
  font-size: 1.1em;
}

/* Loading */
.loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 40px;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(76, 175, 80, 0.2);
  border-top-color: var(--primary-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Toast Notification */
.toast {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--primary-color);
  color: white;
  padding: 15px 25px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  z-index: 1001;
  display: none;
  animation: slideDown 0.3s ease;
  max-width: 90%;
}

.toast.show {
  display: block;
}

@keyframes slideDown {
  from { transform: translate(-50%, -100px); opacity: 0; }
  to { transform: translate(-50%, 0); opacity: 1; }
}

/* Responsive ajustes */
@media (max-width: 360px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
  
  .nav-label {
    font-size: 0.65em;
  }
}

/* Hide scrollbar mas manter funcionalidade */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
}

/* Evitar zoom no iOS */
input, select, textarea {
  font-size: 16px !important;
}
</style>
</head>

<body>

<div class="app-container">

<!-- Welcome Screen -->
<div id="welcomeScreen" class="welcome-screen">
  <div class="welcome-logo">üí™</div>
  <h1>FitTrack</h1>
  <p>Seu parceiro fitness no bolso</p>
  <button class="btn btn-primary" onclick="mostrarCadastro()">üöÄ Come√ßar Agora</button>
  <button class="btn btn-outline" onclick="verificarUsuario()">J√° tenho conta</button>
</div>

<!-- App Header -->
<header class="app-header" id="appHeader" style="display: none;">
  <div class="header-content">
    <div>
      <div class="header-title">üí™ FitTrack</div>
      <div class="header-user" id="headerUser"></div>
    </div>
    <button class="menu-btn" onclick="abrirMenu()">‚ãÆ</button>
  </div>
</header>

<!-- Main Content -->
<div class="app-content" id="appContent" style="display: none;">
  
  <!-- P√°gina: Home -->
  <div id="homePage" class="page active">
    <div class="profile-card">
      <div class="profile-avatar" id="homeAvatar">üë§</div>
      <div class="profile-name" id="homeName">Carregando...</div>
      <div class="profile-info" id="homeInfo"></div>
    </div>
    
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-label">Treinos/M√™s</div>
        <div class="stat-value" id="statTreinosMes">0</div>
      </div>
      <div class="stat-card secondary">
        <div class="stat-label">Medi√ß√µes</div>
        <div class="stat-value" id="statMedicoes">0</div>
      </div>
      <div class="stat-card accent">
        <div class="stat-label">Peso Atual</div>
        <div class="stat-value" id="statPeso">-</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">IMC</div>
        <div class="stat-value" id="statIMC">-</div>
      </div>
    </div>
    
    <div class="card">
      <div class="card-header">
        <div class="card-title">üèãÔ∏è Treino de Hoje</div>
      </div>
      <div id="treinoHojeCard"></div>
    </div>
    
    <button class="btn btn-primary" onclick="navegarPara('treinos')">
      Ver Todos os Treinos ‚Üí
    </button>
  </div>
  
  <!-- P√°gina: Treinos -->
  <div id="treinosPage" class="page">
    <div class="section-header">
      <div class="section-title">üèãÔ∏è Meus Treinos</div>
      <button class="btn btn-small btn-primary" onclick="carregarTreinosDoArquivo()">
        üîÑ Atualizar GIFs
      </button>
    </div>
    <div id="treinosContainer"></div>
  </div>
  
  <!-- P√°gina: Medi√ß√µes -->
  <div id="medicoesPage" class="page">
    <div class="section-header">
      <div class="section-title">üìä Medi√ß√µes</div>
      <button class="btn btn-small btn-primary" onclick="abrirFormMedicao()">
        ‚ûï Nova
      </button>
    </div>
    <div id="medicoesContainer"></div>
  </div>
  
  <!-- P√°gina: Timeline -->
  <div id="timelinePage" class="page">
    <div class="section-header">
      <div class="section-title">üìÖ Minha Jornada</div>
    </div>
    <div class="timeline" id="timelineContainer"></div>
  </div>
  
  <!-- P√°gina: Perfil -->
  <div id="perfilPage" class="page">
    <div class="profile-card">
      <div class="profile-avatar" id="perfilAvatar">üë§</div>
      <div class="profile-name" id="perfilName">-</div>
      <div class="profile-info" id="perfilInfo">-</div>
    </div>
    
    <div class="card">
      <div class="card-title">‚öôÔ∏è Configura√ß√µes</div>
      <button class="btn btn-secondary" onclick="abrirFormCadastro()">
        ‚úèÔ∏è Editar Perfil
      </button>
      <button class="btn btn-accent" onclick="exportarDados()">
        üíæ Exportar Dados
      </button>
      <button class="btn btn-outline" onclick="limparDados()">
        üóëÔ∏è Limpar Todos os Dados
      </button>
    </div>
  </div>
  
</div>

<!-- Bottom Navigation -->
<nav class="bottom-nav" id="bottomNav" style="display: none;">
  <button class="nav-item active" onclick="navegarPara('home')">
    <div class="nav-icon">üè†</div>
    <div class="nav-label">Home</div>
  </button>
  <button class="nav-item" onclick="navegarPara('treinos')">
    <div class="nav-icon">üèãÔ∏è</div>
    <div class="nav-label">Treinos</div>
  </button>
  <button class="nav-item" onclick="navegarPara('medicoes')">
    <div class="nav-icon">üìä</div>
    <div class="nav-label">Medi√ß√µes</div>
  </button>
  <button class="nav-item" onclick="navegarPara('timeline')">
    <div class="nav-icon">üìÖ</div>
    <div class="nav-label">Jornada</div>
  </button>
  <button class="nav-item" onclick="navegarPara('perfil')">
    <div class="nav-icon">üë§</div>
    <div class="nav-label">Perfil</div>
  </button>
</nav>

<!-- Modal de GIF do Exerc√≠cio -->
<div id="exercicioModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div id="modalExercicioNome"></div>
      <button class="modal-close" onclick="fecharModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="gif-container">
        <div class="gif-loading-text" id="gifLoadingText">Carregando GIF...</div>
        <img id="modalGif" class="gif-display" style="display: none;">
      </div>
      
      <div class="instrucoes-box">
        <h4>üìù Instru√ß√µes do Exerc√≠cio</h4>
        <div id="modalInstrucoes"></div>
      </div>
      
      <div class="dicas-box">
        <h4>üí° Dicas Importantes</h4>
        <ul id="modalDicas"></ul>
      </div>
      
      <div>
        <h4 style="margin-bottom: 10px;">üí™ M√∫sculos Trabalhados</h4>
        <div id="modalMusculos"></div>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Cadastro -->
<div id="cadastroModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div>üë§ Cadastro do Usu√°rio</div>
      <button class="modal-close" onclick="fecharModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Nome Completo</label>
        <input type="text" id="nomeInput" class="form-input" placeholder="Seu nome">
      </div>
      <div class="form-group">
        <label class="form-label">Data de Nascimento</label>
        <input type="date" id="dataNascimentoInput" class="form-input">
      </div>
      <div class="form-group">
        <label class="form-label">Altura (cm)</label>
        <input type="number" id="alturaInput" class="form-input" placeholder="Ex: 175">
      </div>
      <div class="form-group">
        <label class="form-label">Sexo</label>
        <select id="sexoInput" class="form-select">
          <option value="">Selecione</option>
          <option value="masculino">Masculino</option>
          <option value="feminino">Feminino</option>
          <option value="outro">Outro</option>
        </select>
      </div>
      <button class="btn btn-primary" onclick="salvarCadastro()">Salvar Cadastro</button>
    </div>
  </div>
</div>

<!-- Modal de Medi√ß√£o -->
<div id="medicaoModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div>üìä Nova Medi√ß√£o</div>
      <button class="modal-close" onclick="fecharModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Peso (kg)</label>
          <input type="number" id="pesoInput" class="form-input" step="0.1" placeholder="Ex: 70.5">
        </div>
        <div class="form-group">
          <label class="form-label">IMC</label>
          <input type="number" id="imcInput" class="form-input" step="0.1" placeholder="Ex: 23.5">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">% Gordura</label>
          <input type="number" id="gorduraInput" class="form-input" step="0.1" placeholder="Ex: 18.5">
        </div>
        <div class="form-group">
          <label class="form-label">Bra√ßo (cm)</label>
          <input type="number" id="bracoInput" class="form-input" step="0.1" placeholder="Ex: 32.5">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Cintura (cm)</label>
          <input type="number" id="cinturaInput" class="form-input" step="0.1" placeholder="Ex: 85.0">
        </div>
        <div class="form-group">
          <label class="form-label">Quadril (cm)</label>
          <input type="number" id="quadrilInput" class="form-input" step="0.1" placeholder="Ex: 95.0">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Coxa (cm)</label>
        <input type="number" id="coxaInput" class="form-input" step="0.1" placeholder="Ex: 55.0">
      </div>
      <button class="btn btn-primary" onclick="salvarMedicao()">Salvar Medi√ß√£o</button>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="toast"></div>

</div>

<script>
// ============ CONFIGURA√á√ïES DA API ============
const GIPHY_API_KEY = 'pLURtkhVrUXr3KG25Gy5IvzziV5OrZGa'; // Chave p√∫blica do GIPHY (pode substituir por sua pr√≥pria)
const GIPHY_API_URL = 'https://api.giphy.com/v1/gifs/search';

// ============ DADOS DO USU√ÅRIO ============
let usuario = null;
let medicoes = [];
let treinos = [];

// ============ DADOS DOS EXERC√çCIOS ============
const exerciciosInfo = {
    // Exerc√≠cios de Peito/Ombro/Tr√≠ceps (Segunda: A)
    'DESENVOLVIMENTO COM BARRA NO BANCO SINATRO': {
        desc: 'Desenvolvimento de ombros com barra no banco reto',
        musculos: ['Delt√≥ide Anterior', 'Tr√≠ceps', 'Trap√©zio'],
        instrucoes: '1. Sente-se no banco com apoio para as costas\n2. Pegue a barra com as m√£os na largura dos ombros\n3. Levante a barra acima da cabe√ßa at√© estender os bra√ßos\n4. Des√ßa controladamente at√© a altura dos ombros',
        dicas: ['Mantenha o core contra√≠do', 'N√£o arqueie as costas', 'Controle o movimento na descida']
    },
    'SUPINO INCLINADO': {
        desc: 'Supino inclinado para trabalhar por√ß√£o superior do peitoral',
        musculos: ['Peitoral Superior', 'Delt√≥ide Anterior', 'Tr√≠ceps'],
        instrucoes: '1. Ajuste o banco em 30-45 graus\n2. Pegue a barra com as m√£os na largura dos ombros\n3. Des√ßa a barra at√© o peito superior\n4. Empurre para cima at√© estender os bra√ßos',
        dicas: ['Mantenha os p√©s no ch√£o', 'N√£o levante os quadris', 'Controle o movimento']
    },
    'TR√äPES CORDA': {
        desc: 'Tr√≠ceps no pulley com corda',
        musculos: ['Tr√≠ceps'],
        instrucoes: '1. Fique de frente para o pulley\n2. Segure a corda com as duas m√£os\n3. Mantenha os cotovelos fixos ao lado do corpo\n4. Estenda os bra√ßos para baixo\n5. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os cotovelos fixos', 'N√£o balance o corpo', 'Controle o movimento']
    },
    'SLEVA√á√ÉO FRONTAL COM ANILHA': {
        desc: 'Eleva√ß√£o frontal com anilha para delt√≥ides anteriores',
        musculos: ['Delt√≥ide Anterior'],
        instrucoes: '1. Fique em p√© com os p√©s na largura dos ombros\n2. Segure a anilha com as duas m√£os\n3. Levante a anilha at√© a altura dos ombros\n4. Des√ßa controladamente',
        dicas: ['Mantenha o core contra√≠do', 'N√£o use impulso', 'Controle o movimento']
    },
    'FECKDECK': {
        desc: 'Fly no peck deck para peitoral',
        musculos: ['Peitoral Maior', 'Peitoral Menor'],
        instrucoes: '1. Sente-se no aparelho com as costas apoiadas\n2. Pegue as al√ßas com os bra√ßos levemente flexionados\n3. Una as al√ßas √† frente do peito\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os bra√ßos levemente flexionados', 'N√£o encoste as al√ßas', 'Controle o movimento']
    },
    'TR√äPES TESTA COM BARRA NO BANCO RETO': {
        desc: 'Tr√≠ceps testa com barra no banco reto',
        musculos: ['Tr√≠ceps'],
        instrucoes: '1. Deite-se no banco reto\n2. Segure a barra com as m√£os na largura dos ombros\n3. Des√ßa a barra em dire√ß√£o √† testa\n4. Estenda os bra√ßos para cima',
        dicas: ['Mantenha os cotovelos fixos', 'N√£o arqueie as costas', 'Controle o movimento']
    },
    'LATERAL DE OMBROS': {
        desc: 'Eleva√ß√£o lateral para delt√≥ides laterais',
        musculos: ['Delt√≥ide Lateral'],
        instrucoes: '1. Fique em p√© com os p√©s na largura dos ombros\n2. Segure os halteres ao lado do corpo\n3. Levante os halteres at√© a altura dos ombros\n4. Des√ßa controladamente',
        dicas: ['Mantenha os cotovelos levemente flexionados', 'N√£o use impulso', 'Controle o movimento']
    },
    
    // Exerc√≠cios de Costas/B√≠ceps (Ter√ßa: B)
    'REMADA SUPRANDA COM BARRA': {
        desc: 'Remada supinada com barra para costas',
        musculos: ['Dorsal', 'Trap√©zio', 'B√≠ceps'],
        instrucoes: '1. Fique em p√© com os p√©s na largura dos ombros\n2. Incline o tronco para frente mantendo as costas retas\n3. Puxe a barra em dire√ß√£o ao abd√¥men\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha as costas retas', 'Contraia as escapulas', 'Controle o movimento']
    },
    'CRUCIFIXION VERSO': {
        desc: 'Crucifixo inverso para delt√≥ides posteriores',
        musculos: ['Delt√≥ide Posterior', 'Trap√©zio'],
        instrucoes: '1. Sente-se no banco inclinado para frente\n2. Segure os halteres com os bra√ßos estendidos\n3. Una os halteres √† frente do corpo\n4. Abra os bra√ßos em um movimento de v√¥o',
        dicas: ['Mantenha o peito aberto', 'Contraia as costas', 'Controle o movimento']
    },
    'PULLDOWN COM EARR√Å GRANDE NO PULLEY': {
        desc: 'Pulldown com pegada larga no pulley',
        musculos: ['Dorsal', 'B√≠ceps'],
        instrucoes: '1. Sente-se no pulley com as coxas fixadas\n2. Pegue a barra com as m√£os na largura maior que os ombros\n3. Puxe a barra em dire√ß√£o ao peito\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha o peito aberto', 'Contraia as escapulas', 'N√£o balance o corpo']
    },
    'KEMUDA SHURUI': {
        desc: 'Puxada na m√°quina para costas',
        musculos: ['Dorsal', 'B√≠ceps'],
        instrucoes: '1. Sente-se na m√°quina com ajuste de carga\n2. Pegue as al√ßas com as m√£os\n3. Puxe as al√ßas em dire√ß√£o ao corpo\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha o peito aberto', 'Contraia as costas', 'Controle o movimento']
    },
    'REMADA CAVALHINHO LIVRE': {
        desc: 'Remada cavalinho livre para costas',
        musculos: ['Dorsal', 'Trap√©zio', 'B√≠ceps'],
        instrucoes: '1. Apoie um joelho e uma m√£o no banco\n2. Segure o haltere com a outra m√£o\n3. Puxe o haltere em dire√ß√£o ao quadril\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha a coluna neutra', 'Contraia as escapulas', 'N√£o gire o tronco']
    },
    'BICEPS CONCENTRADO COM BARRA NO BANCO SLOTT': {
        desc: 'Rosca concentrada com barra no banco Scott',
        musculos: ['B√≠ceps'],
        instrucoes: '1. Sente-se no banco Scott\n2. Apoie os bra√ßos no apoio inclinado\n3. Fa√ßa a flex√£o de cotovelo com a barra\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os cotovelos apoiados', 'Contraia o b√≠ceps no topo', 'Controle o movimento']
    },
    'ANTIFRAC√á√ÉO N√ÉO INFLUENTE': {
        desc: 'Exerc√≠cio para antebra√ßo',
        musculos: ['Antebra√ßo'],
        instrucoes: '1. Sente-se no banco com os antebra√ßos apoiados\n2. Segure a barra com as palmas para cima\n3. Fa√ßa a flex√£o de punho\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Controle o movimento', 'N√£o use peso excessivo', 'Mantenha os antebra√ßos apoiados']
    },
    'BICEPS MARTELO NO BANCO INCLINADO': {
        desc: 'Rosca martelo no banco inclinado para b√≠ceps',
        musculos: ['B√≠ceps', 'Braquial'],
        instrucoes: '1. Sente-se no banco inclinado\n2. Segure os halteres com as palmas voltadas para dentro\n3. Fa√ßa a flex√£o de cotovelo\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os cotovelos fixos', 'Contraia o b√≠ceps no topo', 'N√£o balance o corpo']
    },
    
    // Exerc√≠cios de Pernas (Sexta: B)
    'AGACHAMENTO LIVRE': {
        desc: 'Agachamento livre com barra',
        musculos: ['Quadr√≠ceps', 'Gl√∫teos', 'Posterior da Coxa'],
        instrucoes: '1. Posicione a barra sobre os trap√©zios\n2. P√©s na largura dos ombros\n3. Des√ßa flexionando joelhos e quadris\n4. Volte √† posi√ß√£o inicial',
        dicas: ['Mantenha as costas retas', 'Joelhos n√£o devem passar dos p√©s', 'Controle o movimento']
    },
    'AGACHAMENTO COM ANILHA NOS P√âS': {
        desc: 'Agachamento com anilha como peso adicional',
        musculos: ['Quadr√≠ceps', 'Gl√∫teos'],
        instrucoes: '1. Segure a anilha junto ao peito\n2. P√©s na largura dos ombros\n3. Des√ßa at√© os joelhos formarem 90 graus\n4. Volte √† posi√ß√£o inicial',
        dicas: ['Mantenha o core contra√≠do', 'Olhe para frente', 'N√£o levante os calcanhares']
    },
    'LEG 90 E LEG AMPLIA (CONCENTRADO)': {
        desc: 'Leg press 90 graus e leg press amplo',
        musculos: ['Quadr√≠ceps', 'Gl√∫teos', 'Posterior da Coxa'],
        instrucoes: '1. Sente-se na m√°quina de leg press\n2. Apoie os p√©s na plataforma\n3. Empurre a plataforma at√© estender as pernas\n4. Retorne controladamente',
        dicas: ['N√£o trave os joelhos', 'Controle o movimento', 'Mantenha as costas apoiadas']
    },
    'COCE NAPOLIA': {
        desc: 'Cadeira extensora para quadr√≠ceps',
        musculos: ['Quadr√≠ceps'],
        instrucoes: '1. Sente-se na cadeira extensora\n2. Ajuste o apoio para as pernas\n3. Estenda as pernas contra a resist√™ncia\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Contraia o quadr√≠ceps no topo', 'N√£o use impulso', 'Controle o movimento']
    },
    'CADIRRA FLEXORA': {
        desc: 'Cadeira flexora para posterior da coxa',
        musculos: ['Posterior da Coxa', 'Gl√∫teos'],
        instrucoes: '1. Deite-se na cadeira flexora\n2. Ajuste o apoio para os tornozelos\n3. Flexione as pernas contra a resist√™ncia\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Contraia o posterior no topo', 'Controle o movimento', 'N√£o levante o quadril']
    },
    'CADIRRA ABDUTORA': {
        desc: 'Cadeira abdutora para gl√∫teos laterais',
        musculos: ['Gl√∫teos M√©dio', 'Gl√∫teos M√≠nimo'],
        instrucoes: '1. Sente-se na cadeira abdutora\n2. Posicione as pernas nos apoios\n3. Abra as pernas contra a resist√™ncia\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha as costas apoiadas', 'Contraia os gl√∫teos', 'Controle o movimento']
    },
    'AFUNDO': {
        desc: 'Afundo com barra ou halteres',
        musculos: ['Quadr√≠ceps', 'Gl√∫teos', 'Posterior da Coxa'],
        instrucoes: '1. Fique em p√© segurando os pesos\n2. D√™ um passo √† frente\n3. Des√ßa at√© o joelho traseiro quase tocar o ch√£o\n4. Volte √† posi√ß√£o inicial',
        dicas: ['Mantenha o tronco ereto', 'Joelho dianteiro n√£o passa do p√©', 'Controle o movimento']
    },
    'B√öLGARO COM CARGA E SM CARGA': {
        desc: 'Agachamento b√∫lgaro com carga',
        musculos: ['Quadr√≠ceps', 'Gl√∫teos'],
        instrucoes: '1. Posicione um p√© atr√°s em um banco\n2. Segure os pesos nas m√£os\n3. Des√ßa flexionando o joelho dianteiro\n4. Volte √† posi√ß√£o inicial',
        dicas: ['Mantenha o tronco ereto', 'Controle o equil√≠brio', 'N√£o deixe o joelho passar do p√©']
    },
    
    // Exerc√≠cios de Abdominal/Posterior (Quarta: C)
    'STIFF COM BARRA PEQUENA': {
        desc: 'Stiff com barra para posterior da coxa',
        musculos: ['Posterior da Coxa', 'Gl√∫teos', 'Eretores da Espinha'],
        instrucoes: '1. Fique em p√© com os p√©s na largura dos ombros\n2. Segure a barra com as m√£os na largura dos ombros\n3. Incline o tronco para frente mantendo as costas retas\n4. Volte √† posi√ß√£o inicial',
        dicas: ['Mantenha as costas retas', 'N√£o arqueie as costas', 'Controle o movimento']
    },
    'HALC LINHAR': {
        desc: 'Levantamento terra para costas e posterior',
        musculos: ['Posterior da Coxa', 'Gl√∫teos', 'Dorsal', 'Trap√©zio'],
        instrucoes: '1. Fique em p√© com os p√©s na largura dos ombros\n2. Agache e segure a barra\n3. Levante mantendo as costas retas\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha as costas retas', 'Contraia o core', 'N√£o arqueie as costas']
    },
    'TREADMINUS': {
        desc: 'Extens√£o de tronco no banco',
        musculos: ['Eretores da Espinha', 'Gl√∫teos'],
        instrucoes: '1. Posicione-se no banco de hiperextens√£o\n2. Cruze os bra√ßos no peito\n3. Des√ßa o tronco controladamente\n4. Suba at√© a posi√ß√£o neutra',
        dicas: ['N√£o hiperestenda as costas', 'Controle o movimento', 'Contraia os gl√∫teos']
    },
    'ADDU√á√ÉO NA TOULA': {
        desc: 'Adu√ß√£o na m√°quina para coxas internas',
        musculos: ['Adutores'],
        instrucoes: '1. Sente-se na m√°quina de adu√ß√£o\n2. Posicione as pernas nos apoios\n3. Una as pernas contra a resist√™ncia\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Controle o movimento', 'N√£o use impulso', 'Mantenha as costas apoiadas']
    },
    'PANTURRILHA EM P√â': {
        desc: 'Eleva√ß√£o de panturrilha em p√©',
        musculos: ['Gastrocn√™mio', 'S√≥leo'],
        instrucoes: '1. Fique em p√© na m√°quina de panturrilha\n2. Posicione os ombros sob as almofadas\n3. Elevar os calcanhares o m√°ximo poss√≠vel\n4. Des√ßa controladamente',
        dicas: ['Fa√ßa o movimento completo', 'Contraia a panturrilha no topo', 'Controle a descida']
    },
    'CADIRA EXTENSORA': {
        desc: 'Cadeira extensora para quadr√≠ceps',
        musculos: ['Quadr√≠ceps'],
        instrucoes: '1. Sente-se na cadeira extensora\n2. Ajuste o apoio para as pernas\n3. Estenda as pernas contra a resist√™ncia\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Contraia o quadr√≠ceps no topo', 'N√£o trave os joelhos', 'Controle o movimento']
    },
    
    // Exerc√≠cios de Peito/Ombro (Quinta: A)
    'CRUCIFIXO NO BANCO INCLINADO': {
        desc: 'Crucifixo no banco inclinado para peitoral',
        musculos: ['Peitoral Superior', 'Delt√≥ide Anterior'],
        instrucoes: '1. Deite-se no banco inclinado\n2. Segure os halteres com os bra√ßos estendidos\n3. Abra os bra√ßos em um arco at√© a altura do peito\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os bra√ßos levemente flexionados', 'Controle o movimento', 'N√£o encoste os halteres']
    },
    'CRUCIFIXO NO BANCO DECLINADO': {
        desc: 'Crucifixo no banco declinado para peitoral inferior',
        musculos: ['Peitoral Inferior', 'Delt√≥ide Anterior'],
        instrucoes: '1. Deite-se no banco declinado\n2. Segure os halteres com os bra√ßos estendidos\n3. Abra os bra√ßos em um arco at√© a altura do peito\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha os bra√ßos levemente flexionados', 'Controle o movimento', 'N√£o encoste os halteres']
    },
    'ABDOMEN SEM ROTA√á√ÉO': {
        desc: 'Abdominal sem rota√ß√£o',
        musculos: ['Reto Abdominal'],
        instrucoes: '1. Deite-se no ch√£o com os joelhos flexionados\n2. M√£os atr√°s da cabe√ßa ou cruzadas no peito\n3. Levante o tronco contraindo o abd√¥men\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['N√£o puxe o pesco√ßo', 'Expire ao subir', 'Contraia o abd√¥men no topo']
    },
    'REMADA ALTA NO PULLEY': {
        desc: 'Remada alta no pulley para trap√©zios',
        musculos: ['Trap√©zio', 'Delt√≥ide Lateral'],
        instrucoes: '1. Fique em p√© segurando a barra curta\n2. Puxe a barra em dire√ß√£o ao queixo\n3. Mantenha os cotovelos acima das m√£os\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['N√£o balance o corpo', 'Mantenha o tronco ereto', 'Controle o movimento']
    },
    'SUPINO NO BANCO DECLINADO': {
        desc: 'Supino declinado para peitoral inferior',
        musculos: ['Peitoral Inferior', 'Delt√≥ide Anterior', 'Tr√≠ceps'],
        instrucoes: '1. Deite-se no banco declinado\n2. Pegue a barra com as m√£os na largura dos ombros\n3. Des√ßa a barra at√© o peito inferior\n4. Empurre para cima at√© estender os bra√ßos',
        dicas: ['Mantenha os p√©s fixos', 'N√£o arqueie as costas', 'Controle o movimento']
    },
    'FACEPULL': {
        desc: 'Face pull para delt√≥ides posteriores',
        musculos: ['Delt√≥ide Posterior', 'Trap√©zio'],
        instrucoes: '1. Ajuste o pulley na altura dos olhos\n2. Segure a corda com as duas m√£os\n3. Puxe em dire√ß√£o ao rosto separando as m√£os\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['Mantenha o peito aberto', 'Contraia as costas', 'Controle o movimento']
    },
    'ENCOLHIMENTO DE OMBROS NO BANCO SENTADO': {
        desc: 'Encolhimento de ombros para trap√©zios',
        musculos: ['Trap√©zio'],
        instrucoes: '1. Sente-se no banco segurando halteres\n2. Mantenha os bra√ßos estendidos ao lado do corpo\n3. Eleve os ombros em dire√ß√£o √†s orelhas\n4. Retorne √† posi√ß√£o inicial',
        dicas: ['N√£o gire os ombros', 'Contraia o trap√©zio no topo', 'Controle o movimento']
    }
};

// ============ FUN√á√ïES DE GIF ============
async function buscarGIF(exercicioNome) {
    try {
        const exercicioInfo = exerciciosInfo[exercicioNome.toUpperCase()];
        let searchTerm = exercicioNome;
        
        if (exercicioInfo && exercicioInfo.desc) {
            searchTerm = exercicioInfo.desc.split(' ')[0];
        }
        
        const response = await fetch(
            `${GIPHY_API_URL}?api_key=${GIPHY_API_KEY}&q=${encodeURIComponent(searchTerm + ' exercise')}&limit=5&rating=g&lang=pt`
        );
        
        if (!response.ok) {
            throw new Error('Erro na API do GIPHY');
        }
        
        const data = await response.json();
        
        if (data.data && data.data.length > 0) {
            return data.data[0].images.fixed_height.url;
        }
        
        return null;
    } catch (error) {
        console.error('Erro ao buscar GIF:', error);
        return null;
    }
}

async function carregarGIFParaExercicio(exercicioNome, containerId) {
    const container = document.getElementById(containerId);
    if (!container) return;
    
    const gifContainer = container.querySelector('.exercicio-gif-container');
    if (!gifContainer) return;
    
    const gifImg = gifContainer.querySelector('.exercicio-gif');
    const loadingText = gifContainer.querySelector('.gif-loading');
    
    gifContainer.style.display = 'block';
    loadingText.style.display = 'flex';
    gifImg.style.display = 'none';
    
    const gifUrl = await buscarGIF(exercicioNome);
    
    loadingText.style.display = 'none';
    
    if (gifUrl) {
        gifImg.src = gifUrl;
        gifImg.style.display = 'block';
        gifImg.onload = () => {
            gifImg.style.opacity = '1';
        };
    } else {
        gifContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-secondary);">GIF n√£o dispon√≠vel para este exerc√≠cio</div>';
    }
}

function mostrarExercicioModal(exercicioNome) {
    const modal = document.getElementById('exercicioModal');
    const exercicioInfo = exerciciosInfo[exercicioNome.toUpperCase()];
    
    document.getElementById('modalExercicioNome').textContent = exercicioNome;
    
    if (exercicioInfo) {
        document.getElementById('modalInstrucoes').innerHTML = exercicioInfo.instrucoes.replace(/\n/g, '<br>');
        
        const dicasHtml = exercicioInfo.dicas.map(dica => `<li>${dica}</li>`).join('');
        document.getElementById('modalDicas').innerHTML = dicasHtml;
        
        const musculosHtml = exercicioInfo.musculos.map(musculo => 
            `<span class="musculos-tag">${musculo}</span>`
        ).join('');
        document.getElementById('modalMusculos').innerHTML = musculosHtml;
        
        // Carregar GIF
        const gifImg = document.getElementById('modalGif');
        const loadingText = document.getElementById('gifLoadingText');
        
        gifImg.style.display = 'none';
        loadingText.style.display = 'block';
        
        buscarGIF(exercicioNome).then(gifUrl => {
            loadingText.style.display = 'none';
            if (gifUrl) {
                gifImg.src = gifUrl;
                gifImg.style.display = 'block';
            } else {
                gifImg.alt = 'GIF n√£o dispon√≠vel';
            }
        });
    } else {
        document.getElementById('modalInstrucoes').textContent = 'Instru√ß√µes n√£o dispon√≠veis para este exerc√≠cio.';
        document.getElementById('modalDicas').innerHTML = '<li>Execute com aten√ß√£o √† t√©cnica</li><li>Controle o movimento</li><li>Mantenha a postura adequada</li>';
        document.getElementById('modalMusculos').innerHTML = '<span class="musculos-tag">M√∫sculos Principais</span>';
    }
    
    modal.classList.add('active');
}

// ============ FUN√á√ïES DE TREINO ============
function carregarTreinosDoArquivo() {
    // Dados do arquivo fornecido
    treinos = [
        {
            dia: 'SEGUNDA: A',
            exercicios: [
                { metodo: 'TRADICIONAL', nome: 'DESENVOLVIMENTO COM BARRA NO BANCO SINATRO', series: 3, repeticoes: 10, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'BI-SET', nome: 'SUPINO INCLINADO - TR√äPES CORDA', series: 3, repeticoes: '12 + 15', descanso: '1¬™ 20\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'SLEVA√á√ÉO FRONTAL COM ANILHA', series: 4, repeticoes: 10, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'FECKDECK', series: 3, repeticoes: 15, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'TR√äPES TESTA COM BARRA NO BANCO RETO', series: 3, repeticoes: 10, descanso: '1¬™ MINUTO' },
                { metodo: 'DROP-SET', nome: 'LATERAL DE OMBROS', series: 3, repeticoes: '10 + 15', descanso: '1¬™ 20\' MINUTOS' }
            ]
        },
        {
            dia: 'TER√áA: B',
            exercicios: [
                { metodo: 'BI-SET', nome: 'REMADA SUPRANDA COM BARRA + CRUCIFIXION VERSO', series: 3, repeticoes: 12, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'PULLDOWN COM EARR√Å GRANDE NO PULLEY', series: 4, repeticoes: 12, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'KEMUDA SHURUI', series: 3, repeticoes: 15, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'RESTYNA PAUSE', nome: 'REMADA CAVALHINHO LIVRE', series: 3, repeticoes: '10 + 15', descanso: '2¬™ MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'BICEPS CONCENTRADO COM BARRA NO BANCO SLOTT', series: 3, repeticoes: 12, descanso: '1¬™ 20\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'ANTIFRAC√á√ÉO N√ÉO INFLUENTE', series: 3, repeticoes: 15, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'BICEPS MARTELO NO BANCO INCLINADO', series: 3, repeticoes: 12, descanso: '1¬™ MINUTO' }
            ]
        },
        {
            dia: 'SEXTA: B',
            exercicios: [
                { metodo: 'BI-SET', nome: 'AGACHAMENTO LIVRE + AGACHAMENTO COM ANILHA NOS P√âS', series: 3, repeticoes: '12 + 15', descanso: '2¬™ MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'LEG 90 E LEG AMPLIA (CONCENTRADO)', series: 4, repeticoes: 10, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'COCE NAPOLIA', series: 3, repeticoes: 15, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'RESTYNA PAUSE', nome: 'CADIRRA FLEXORA', series: 3, repeticoes: '10 + 15', descanso: '2¬™ MINUTOS' },
                { metodo: 'BI-SET', nome: 'CADIRRA ABDUTORA + AFUNDO', series: 3, repeticoes: '15 + 10', descanso: '2¬™ MINUTOS' },
                { metodo: 'BI-SET', nome: 'B√öLGARO COM CARGA E SM CARGA', series: 3, repeticoes: '10 + 15', descanso: '1¬™ 20\' MINUTOS' }
            ]
        },
        {
            dia: 'QUARTA: C',
            exercicios: [
                { metodo: 'BI-SET', nome: 'STIFF COM BARRA PEQUENA + HALC LINHAR', series: 3, repeticoes: 10, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'BI-SET', nome: 'TREADMINUS + CADIRRA ABDUTORA', series: 3, repeticoes: '10 + 15', descanso: '1¬™ 20\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'ADDU√á√ÉO NA TOULA', series: 4, repeticoes: 12, descanso: '1¬™ 15\' MINUTOS' },
                { metodo: 'TRADICIONAL', nome: 'PANTURRILHA EM P√â', series: 4, repeticoes: 20, descanso: '1¬™ MINUTO' },
                { metodo: 'GVT', nome: 'CADIRA EXTENSORA', series: 3, repeticoes: 10, descanso: '1¬™ MINUTO' }
            ]
        },
        {
            dia: 'QUINTA: A',
            exercicios: [
                { metodo: 'TRADICIONAL', nome: 'CRUCIFIXO NO BANCO INCLINADO', series: 3, repeticoes: 15, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'ABDOMEN SEM ROTA√á√ÉO', series: 3, repeticoes: 10, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'REMADA ALTA NO PULLEY', series: 4, repeticoes: 10, descanso: '1¬™ MINUTO' },
                { metodo: 'TRADICIONAL', nome: 'SUPINO NO BANCO DECLINADO', series: 3, repeticoes: 15, descanso: '1¬™ MINUTO' },
                { metodo: 'BI-SET', nome: 'FACEPULL + ENCOLHIMENTO DE OMBROS NO BANCO SENTADO', series: 3, repeticoes: 10, descanso: '1¬™ MINUTO' }
            ]
        }
    ];
    
    renderizarTreinos();
}

function renderizarTreinos() {
    const container = document.getElementById('treinosContainer');
    if (!container) return;
    
    let html = '';
    
    treinos.forEach((treino, index) => {
        const hoje = new Date().getDay();
        const dias = ['DOMINGO', 'SEGUNDA', 'TER√áA', 'QUARTA', 'QUINTA', 'SEXTA', 'S√ÅBADO'];
        const diaTreino = treino.dia.split(':')[0].trim();
        const eHoje = dias[hoje] === diaTreino.toUpperCase();
        
        html += `
            <div class="treino-card ${eHoje ? 'hoje' : ''}">
                <div class="treino-header">
                    <div>
                        <div class="treino-dia">${treino.dia}</div>
                        <div class="treino-nome">Treino ${treino.dia.split(':')[1].trim()}</div>
                    </div>
                    ${eHoje ? '<span class="badge badge-hoje">HOJE</span>' : ''}
                </div>
                
                ${treino.exercicios.map((ex, exIndex) => `
                    <div class="exercicio-item" onclick="mostrarExercicioModal('${ex.nome}')">
                        <div class="exercicio-nome">
                            <span>${ex.nome}</span>
                            <span style="font-size: 0.8em; color: var(--accent-color);">${ex.metodo}</span>
                        </div>
                        <div class="exercicio-detalhes">
                            <span>${ex.series} s√©ries</span>
                            <span>${ex.repeticoes} reps</span>
                            <span>Descanso: ${ex.descanso}</span>
                        </div>
                        <div class="exercicio-gif-container" id="gif-${index}-${exIndex}">
                            <div class="gif-loading">
                                <div class="spinner"></div>
                            </div>
                            <img class="exercicio-gif" style="opacity: 0; transition: opacity 0.3s;">
                        </div>
                    </div>
                `).join('')}
            </div>
        `;
    });
    
    container.innerHTML = html || '<div class="empty-state"><div class="empty-icon">üèãÔ∏è</div><div class="empty-text">Nenhum treino carregado</div></div>';
    
    // Carregar GIFs para todos os exerc√≠cios
    setTimeout(() => {
        treinos.forEach((treino, index) => {
            treino.exercicios.forEach((ex, exIndex) => {
                carregarGIFParaExercicio(ex.nome, `gif-${index}-${exIndex}`);
            });
        });
    }, 500);
}

function atualizarTreinoHoje() {
    const hoje = new Date().getDay();
    const dias = ['DOMINGO', 'SEGUNDA', 'TER√áA', 'QUARTA', 'QUINTA', 'SEXTA', 'S√ÅBADO'];
    const diaAtual = dias[hoje];
    
    const treinoHoje = treinos.find(t => {
        const diaTreino = t.dia.split(':')[0].trim().toUpperCase();
        return diaTreino === diaAtual;
    });
    
    const container = document.getElementById('treinoHojeCard');
    if (!container) return;
    
    if (treinoHoje) {
        let html = `
            <div class="treino-header">
                <div>
                    <div class="treino-dia">${treinoHoje.dia}</div>
                    <div class="treino-nome">Treino ${treinoHoje.dia.split(':')[1].trim()}</div>
                </div>
                <span class="badge badge-hoje">HOJE</span>
            </div>
        `;
        
        // Mostrar apenas os primeiros 3 exerc√≠cios na home
        treinoHoje.exercicios.slice(0, 3).forEach((ex, index) => {
            html += `
                <div class="exercicio-item" onclick="mostrarExercicioModal('${ex.nome}')">
                    <div class="exercicio-nome">
                        <span>${ex.nome}</span>
                        <span style="font-size: 0.8em; color: var(--accent-color);">${ex.metodo}</span>
                    </div>
                    <div class="exercicio-detalhes">
                        <span>${ex.series} s√©ries</span>
                        <span>${ex.repeticoes} reps</span>
                    </div>
                    <div class="exercicio-gif-container" id="gif-hoje-${index}">
                        <div class="gif-loading">
                            <div class="spinner"></div>
                        </div>
                        <img class="exercicio-gif" style="opacity: 0; transition: opacity 0.3s;">
                    </div>
                </div>
            `;
        });
        
        if (treinoHoje.exercicios.length > 3) {
            html += `<div style="text-align: center; margin-top: 10px; color: var(--text-secondary); font-size: 0.9em;">+ ${treinoHoje.exercicios.length - 3} exerc√≠cios restantes</div>`;
        }
        
        container.innerHTML = html;
        
        // Carregar GIFs para os exerc√≠cios da home
        setTimeout(() => {
            treinoHoje.exercicios.slice(0, 3).forEach((ex, index) => {
                carregarGIFParaExercicio(ex.nome, `gif-hoje-${index}`);
            });
        }, 500);
    } else {
        container.innerHTML = `
            <div style="text-align: center; padding: 30px;">
                <div style="font-size: 3em; margin-bottom: 10px;">üò¥</div>
                <div style="color: var(--text-secondary);">Hoje √© dia de descanso!</div>
                <div style="font-size: 0.9em; margin-top: 5px;">Aproveite para se recuperar.</div>
            </div>
        `;
    }
}

// ============ FUN√á√ïES DE USU√ÅRIO E MEDI√á√ïES ============
function verificarUsuario() {
    usuario = JSON.parse(localStorage.getItem('fitTrackUsuario'));
    
    if (usuario) {
        iniciarApp();
        mostrarToast('Bem-vindo de volta, ' + usuario.nome + '!');
    } else {
        mostrarCadastro();
    }
}

function mostrarCadastro() {
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('cadastroModal').classList.add('active');
}

function salvarCadastro() {
    const nome = document.getElementById('nomeInput').value;
    const dataNascimento = document.getElementById('dataNascimentoInput').value;
    const altura = document.getElementById('alturaInput').value;
    const sexo = document.getElementById('sexoInput').value;
    
    if (!nome || !dataNascimento || !altura || !sexo) {
        mostrarToast('Por favor, preencha todos os campos!', 'error');
        return;
    }
    
    usuario = {
        nome,
        dataNascimento,
        altura: parseInt(altura),
        sexo,
        dataCadastro: new Date().toISOString()
    };
    
    localStorage.setItem('fitTrackUsuario', JSON.stringify(usuario));
    
    // Carregar dados iniciais do arquivo
    const dadosArquivo = {
        nome: 'SIBELE',
        altura: 1.64,
        peso: 48.75,
        imc: 17.9,
        gordura: 17.9,
        idade: 30,
        medidas: {
            ombros: 85,
            peito: 76.5,
            cintura: 62,
            bracoDireitoRelaxado: 22,
            bracoDireitoFlexionado: 23,
            antebracoDireito: 15,
            abdomenSuperior: 52.5,
            abdomenInferior: 70.5,
            coxaDireita: 47,
            panturrilhaDireita: 19,
            quadril: 75
        }
    };
    
    // Adicionar medi√ß√£o inicial baseada no arquivo
    const medicaoInicial = {
        data: '11/11/2024',
        peso: dadosArquivo.peso,
        imc: dadosArquivo.imc,
        gordura: dadosArquivo.gordura,
        medidas: dadosArquivo.medidas
    };
    
    medicoes = [medicaoInicial];
    localStorage.setItem('fitTrackMedicoes', JSON.stringify(medicoes));
    
    fecharModal();
    iniciarApp();
    mostrarToast('Cadastro realizado com sucesso!');
}

function iniciarApp() {
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('appHeader').style.display = 'block';
    document.getElementById('appContent').style.display = 'block';
    document.getElementById('bottomNav').style.display = 'flex';
    
    // Carregar dados do localStorage
    medicoes = JSON.parse(localStorage.getItem('fitTrackMedicoes')) || [];
    
    // Atualizar interface
    atualizarInterfaceUsuario();
    carregarTreinosDoArquivo();
    
    if (medicoes.length > 0) {
        atualizarStats();
        renderizarMedicoes();
        renderizarTimeline();
    }
}

function atualizarInterfaceUsuario() {
    if (!usuario) return;
    
    document.getElementById('headerUser').textContent = usuario.nome;
    document.getElementById('homeName').textContent = usuario.nome;
    document.getElementById('perfilName').textContent = usuario.nome;
    
    const idade = calcularIdade(usuario.dataNascimento);
    document.getElementById('homeInfo').textContent = `${idade} anos ‚Ä¢ ${usuario.altura/100}m ‚Ä¢ ${usuario.sexo}`;
    document.getElementById('perfilInfo').textContent = `${idade} anos ‚Ä¢ ${usuario.altura/100}m ‚Ä¢ ${usuario.sexo}`;
    
    document.getElementById('homeAvatar').textContent = usuario.sexo === 'feminino' ? 'üë©' : usuario.sexo === 'masculino' ? 'üë®' : 'üë§';
    document.getElementById('perfilAvatar').textContent = usuario.sexo === 'feminino' ? 'üë©' : usuario.sexo === 'masculino' ? 'üë®' : 'üë§';
}

function calcularIdade(dataNascimento) {
    const hoje = new Date();
    const nascimento = new Date(dataNascimento);
    let idade = hoje.getFullYear() - nascimento.getFullYear();
    const mes = hoje.getMonth() - nascimento.getMonth();
    
    if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
        idade--;
    }
    
    return idade;
}

function atualizarStats() {
    if (medicoes.length === 0) return;
    
    const ultimaMedicao = medicoes[medicoes.length - 1];
    
    document.getElementById('statTreinosMes').textContent = '4'; // Baseado na rotina
    document.getElementById('statMedicoes').textContent = medicoes.length;
    document.getElementById('statPeso').textContent = ultimaMedicao.peso + 'kg';
    document.getElementById('statIMC').textContent = ultimaMedicao.imc;
    
    atualizarTreinoHoje();
}

function abrirFormMedicao() {
    if (medicoes.length > 0) {
        const ultimaMedicao = medicoes[medicoes.length - 1];
        document.getElementById('pesoInput').value = ultimaMedicao.peso || '';
        document.getElementById('imcInput').value = ultimaMedicao.imc || '';
        document.getElementById('gorduraInput').value = ultimaMedicao.gordura || '';
        document.getElementById('bracoInput').value = ultimaMedicao.medidas?.bracoDireitoRelaxado || '';
        document.getElementById('cinturaInput').value = ultimaMedicao.medidas?.cintura || '';
        document.getElementById('quadrilInput').value = ultimaMedicao.medidas?.quadril || '';
        document.getElementById('coxaInput').value = ultimaMedicao.medidas?.coxaDireita || '';
    }
    
    document.getElementById('medicaoModal').classList.add('active');
}

function salvarMedicao() {
    const peso = parseFloat(document.getElementById('pesoInput').value);
    const imc = parseFloat(document.getElementById('imcInput').value);
    const gordura = parseFloat(document.getElementById('gorduraInput').value);
    const braco = parseFloat(document.getElementById('bracoInput').value);
    const cintura = parseFloat(document.getElementById('cinturaInput').value);
    const quadril = parseFloat(document.getElementById('quadrilInput').value);
    const coxa = parseFloat(document.getElementById('coxaInput').value);
    
    if (!peso || !imc) {
        mostrarToast('Peso e IMC s√£o obrigat√≥rios!', 'error');
        return;
    }
    
    const novaMedicao = {
        data: new Date().toLocaleDateString('pt-BR'),
        peso,
        imc,
        gordura,
        medidas: {
            bracoDireitoRelaxado: braco,
            cintura,
            quadril,
            coxaDireita: coxa
        }
    };
    
    medicoes.push(novaMedicao);
    localStorage.setItem('fitTrackMedicoes', JSON.stringify(medicoes));
    
    fecharModal();
    atualizarStats();
    renderizarMedicoes();
    renderizarTimeline();
    mostrarToast('Medi√ß√£o salva com sucesso!');
}

function renderizarMedicoes() {
    const container = document.getElementById('medicoesContainer');
    if (!container) return;
    
    if (medicoes.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-icon">üìä</div><div class="empty-text">Nenhuma medi√ß√£o registrada</div></div>';
        return;
    }
    
    let html = '';
    
    [...medicoes].reverse().forEach((medicao, index) => {
        html += `
            <div class="medicao-resumo">
                <div class="medicao-data">${medicao.data}</div>
                <div class="medicao-grid">
                    <div class="medicao-item">
                        <div class="medicao-label">Peso</div>
                        <div class="medicao-valor">${medicao.peso}kg</div>
                    </div>
                    <div class="medicao-item">
                        <div class="medicao-label">IMC</div>
                        <div class="medicao-valor">${medicao.imc}</div>
                    </div>
                    <div class="medicao-item">
                        <div class="medicao-label">% Gordura</div>
                        <div class="medicao-valor">${medicao.gordura || '-'}</div>
                    </div>
                </div>
            </div>
        `;
    });
    
    container.innerHTML = html;
}

function renderizarTimeline() {
    const container = document.getElementById('timelineContainer');
    if (!container) return;
    
    let eventos = [];
    
    // Adicionar cadastro
    if (usuario) {
        eventos.push({
            data: new Date(usuario.dataCadastro).toLocaleDateString('pt-BR'),
            titulo: 'Cadastro no FitTrack',
            descricao: 'In√≠cio da sua jornada fitness'
        });
    }
    
    // Adicionar medi√ß√µes
    medicoes.forEach(medicao => {
        eventos.push({
            data: medicao.data,
            titulo: 'Nova Medi√ß√£o',
            descricao: `Peso: ${medicao.peso}kg ‚Ä¢ IMC: ${medicao.imc}`
        });
    });
    
    // Adicionar in√≠cio do treino (do arquivo)
    eventos.push({
        data: '11/11/2024',
        titulo: 'In√≠cio da Rotina de Treinos',
        descricao: 'Come√ßo do programa de treinamento ABC'
    });
    
    // Ordenar por data
    eventos.sort((a, b) => new Date(b.data.split('/').reverse().join('-')) - new Date(a.data.split('/').reverse().join('-')));
    
    let html = '';
    
    eventos.forEach((evento, index) => {
        html += `
            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">${evento.data}</div>
                    <div class="timeline-title">${evento.titulo}</div>
                    <div style="color: var(--text-secondary); font-size: 0.9em;">${evento.descricao}</div>
                </div>
            </div>
        `;
    });
    
    container.innerHTML = html || '<div class="empty-state"><div class="empty-icon">üìÖ</div><div class="empty-text">Nenhum evento registrado</div></div>';
}

// ============ FUN√á√ïES DE NAVEGA√á√ÉO ============
function navegarPara(pagina) {
    // Remover classe active de todas as p√°ginas e bot√µes
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    
    // Adicionar classe active √† p√°gina selecionada
    document.getElementById(pagina + 'Page').classList.add('active');
    
    // Adicionar classe active ao bot√£o correspondente
    const navItems = document.querySelectorAll('.nav-item');
    const pageIndex = ['home', 'treinos', 'medicoes', 'timeline', 'perfil'].indexOf(pagina);
    if (navItems[pageIndex]) {
        navItems[pageIndex].classList.add('active');
    }
    
    // Atualizar conte√∫do espec√≠fico da p√°gina
    if (pagina === 'treinos') {
        carregarTreinosDoArquivo();
    } else if (pagina === 'medicoes') {
        renderizarMedicoes();
    } else if (pagina === 'timeline') {
        renderizarTimeline();
    }
}

function abrirMenu() {
    navegarPara('perfil');
}

function abrirFormCadastro() {
    if (usuario) {
        document.getElementById('nomeInput').value = usuario.nome;
        document.getElementById('dataNascimentoInput').value = usuario.dataNascimento;
        document.getElementById('alturaInput').value = usuario.altura;
        document.getElementById('sexoInput').value = usuario.sexo;
    }
    document.getElementById('cadastroModal').classList.add('active');
}

function fecharModal() {
    document.querySelectorAll('.modal').forEach(modal => modal.classList.remove('active'));
}

function exportarDados() {
    const dados = {
        usuario,
        medicoes,
        treinos,
        dataExportacao: new Date().toISOString()
    };
    
    const dadosStr = JSON.stringify(dados, null, 2);
    const blob = new Blob([dadosStr], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    
    const a = document.createElement('a');
    a.href = url;
    a.download = `fittrack-dados-${new Date().toISOString().split('T')[0]}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    
    mostrarToast('Dados exportados com sucesso!');
}

function limparDados() {
    if (confirm('Tem certeza que deseja limpar todos os dados? Esta a√ß√£o n√£o pode ser desfeita.')) {
        localStorage.clear();
        usuario = null;
        medicoes = [];
        treinos = [];
        
        document.getElementById('welcomeScreen').style.display = 'flex';
        document.getElementById('appHeader').style.display = 'none';
        document.getElementById('appContent').style.display = 'none';
        document.getElementById('bottomNav').style.display = 'none';
        
        mostrarToast('Todos os dados foram limpos.');
    }
}

function mostrarToast(mensagem, tipo = 'sucesso') {
    const toast = document.getElementById('toast');
    toast.textContent = mensagem;
    toast.className = 'toast';
    toast.classList.add('show');
    
    if (tipo === 'error') {
        toast.style.background = 'var(--danger-color)';
    } else if (tipo === 'warning') {
        toast.style.background = 'var(--accent-color)';
    } else {
        toast.style.background = 'var(--primary-color)';
    }
    
    setTimeout(() => {
        toast.classList.remove('show');
    }, 3000);
}

// ============ INICIALIZA√á√ÉO ============
document.addEventListener('DOMContentLoaded', function() {
    // Verificar se h√° usu√°rio salvo
    verificarUsuario();
    
    // Fechar modal ao clicar fora
    document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', function(e) {
            if (e.target === this) {
                fecharModal();
            }
        });
    });
    
    // Fechar modal com ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            fecharModal();
        }
    });
});
</script>

</body>
</html>