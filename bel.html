<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema Completo de Treino</title>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(180deg, #020b2d, #071a44);
  color: white;
  min-height: 100vh;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}

/* Header */
header {
  text-align: center;
  padding: 30px 20px;
  background: #03103a;
  border-radius: 15px;
  margin-bottom: 30px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

header h1 {
  font-size: 2.5em;
  margin-bottom: 10px;
}

/* Navigation */
.nav-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  justify-content: center;
}

.nav-tab {
  padding: 15px 30px;
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1em;
  font-weight: 600;
  color: white;
}

.nav-tab:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.nav-tab.active {
  background: #005fa3;
  border-color: #4fc3f7;
}

/* Sections */
.section {
  display: none;
  animation: fadeIn 0.5s ease;
}

.section.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Tela de Boas-vindas */
.welcome-screen {
  text-align: center;
  padding: 60px 20px;
  background: linear-gradient(135deg, #1a4d2e, #0d3320);
  border-radius: 15px;
  margin-bottom: 30px;
}

.welcome-screen h2 {
  font-size: 2.5em;
  margin-bottom: 20px;
  color: #4CAF50;
}

.welcome-screen p {
  font-size: 1.2em;
  margin-bottom: 30px;
  opacity: 0.9;
}

.welcome-buttons {
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

/* Formul√°rios */
.form-card {
  background: rgba(255, 255, 255, 0.95);
  color: #333;
  padding: 30px;
  border-radius: 15px;
  max-width: 800px;
  margin: 0 auto;
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}

.form-card h2 {
  color: #005fa3;
  margin-bottom: 25px;
  font-size: 2em;
  text-align: center;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #333;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 1em;
  transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #005fa3;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

/* Bot√µes */
.btn {
  padding: 15px 35px;
  font-size: 1.1em;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: inline-block;
  text-align: center;
}

.btn-primary {
  background: #4CAF50;
  color: white;
}

.btn-primary:hover {
  background: #45a049;
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
}

.btn-secondary {
  background: #2196F3;
  color: white;
}

.btn-secondary:hover {
  background: #1976D2;
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
}

.btn-warning {
  background: #ff9800;
  color: white;
}

.btn-warning:hover {
  background: #e68900;
}

.btn-danger {
  background: #f44336;
  color: white;
}

.btn-danger:hover {
  background: #da190b;
}

/* Cards de Estat√≠sticas */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.stat-card {
  background: linear-gradient(135deg, #005fa3, #003d6b);
  padding: 25px;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.stat-card h3 {
  font-size: 0.9em;
  opacity: 0.9;
  margin-bottom: 10px;
  text-transform: uppercase;
}

.stat-card .value {
  font-size: 2.5em;
  font-weight: bold;
  color: #4CAF50;
}

/* Timeline */
.timeline {
  position: relative;
  padding: 20px 0;
  max-width: 1000px;
  margin: 0 auto;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, #4CAF50, #2196F3);
  transform: translateX(-50%);
}

.timeline-item {
  position: relative;
  margin-bottom: 40px;
  width: 45%;
  background: rgba(255, 255, 255, 0.95);
  color: #333;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.timeline-item:nth-child(odd) {
  margin-left: 0;
  margin-right: auto;
}

.timeline-item:nth-child(even) {
  margin-left: auto;
  margin-right: 0;
}

.timeline-item::before {
  content: '';
  position: absolute;
  top: 25px;
  width: 20px;
  height: 20px;
  background: #4CAF50;
  border: 4px solid #fff;
  border-radius: 50%;
  box-shadow: 0 0 0 3px #4CAF50;
}

.timeline-item:nth-child(odd)::before {
  right: -60px;
}

.timeline-item:nth-child(even)::before {
  left: -60px;
}

.timeline-date {
  font-weight: bold;
  color: #005fa3;
  margin-bottom: 10px;
}

.timeline-content h3 {
  color: #333;
  margin-bottom: 10px;
}

/* Modal de Exerc√≠cio */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  overflow-y: auto;
}

.modal.active {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.modal-content {
  background: white;
  color: #333;
  border-radius: 15px;
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
}

.modal-header {
  background: #005fa3;
  color: white;
  padding: 20px;
  border-radius: 15px 15px 0 0;
  position: sticky;
  top: 0;
  z-index: 10;
}

.modal-header h2 {
  margin: 0;
}

.modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  font-size: 1.5em;
  cursor: pointer;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-body {
  padding: 30px;
}

/* Avatar de Exerc√≠cio */
.exercise-demo {
  background: #f5f5f5;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
  text-align: center;
}

.avatar-container {
  width: 100%;
  max-width: 400px;
  height: 400px;
  margin: 0 auto;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.avatar {
  width: 200px;
  height: 300px;
  position: relative;
}

/* Anima√ß√µes de exerc√≠cio */
@keyframes shoulderPress {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}

@keyframes pulldown {
  0%, 100% { transform: translateY(-20px); }
  50% { transform: translateY(20px); }
}

@keyframes squat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(40px); }
}

@keyframes pushup {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(10px) rotate(2deg); }
}

/* Treino Card */
.treino-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 25px;
  border: 2px solid rgba(255, 255, 255, 0.1);
}

.treino-card h2 {
  color: #4fc3f7;
  margin-bottom: 15px;
}

.treino-card.hoje {
  background: linear-gradient(135deg, #1a4d2e, #0d3320);
  border: 3px solid #4CAF50;
}

.treino-card.hoje h2 {
  color: #4CAF50;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  color: black;
  border-radius: 8px;
  overflow: hidden;
}

th {
  background: #005fa3;
  color: white;
  padding: 12px 8px;
  text-align: left;
  font-weight: 600;
}

td {
  padding: 12px 8px;
  border-bottom: 1px solid #e0e0e0;
}

tr:hover {
  background: #f5f5f5;
}

.btn-demo {
  padding: 8px 15px;
  font-size: 0.9em;
  background: #2196F3;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.btn-demo:hover {
  background: #1976D2;
}

/* Profile Card */
.profile-card {
  background: rgba(255, 255, 255, 0.95);
  color: #333;
  padding: 30px;
  border-radius: 15px;
  margin-bottom: 30px;
  text-align: center;
}

.profile-avatar {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  background: linear-gradient(135deg, #4CAF50, #2196F3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 4em;
  margin: 0 auto 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

.profile-info h2 {
  color: #005fa3;
  margin-bottom: 10px;
}

.profile-actions {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-top: 20px;
  flex-wrap: wrap;
}

/* Medi√ß√µes Grid */
.medicoes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.medicao-card {
  background: rgba(255, 255, 255, 0.95);
  color: #333;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.medicao-card h3 {
  color: #005fa3;
  margin-bottom: 15px;
  border-bottom: 2px solid #4CAF50;
  padding-bottom: 10px;
}

.medicao-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
}

.medicao-item:last-child {
  border-bottom: none;
}

.medicao-label {
  font-weight: 600;
}

.medicao-value {
  color: #4CAF50;
  font-weight: bold;
}

/* Hist√≥rico de Medi√ß√µes */
.medicoes-historico {
  margin-top: 30px;
}

.historico-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 10px;
  border-left: 4px solid #4CAF50;
}

/* Responsivo */
@media (max-width: 768px) {
  .timeline::before {
    left: 30px;
  }
  
  .timeline-item {
    width: calc(100% - 60px);
    margin-left: 60px !important;
  }
  
  .timeline-item::before {
    left: -40px !important;
  }
  
  .nav-tabs {
    overflow-x: auto;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
}

@media print {
  .nav-tabs,
  .btn,
  .modal {
    display: none !important;
  }
  
  body {
    background: white;
    color: black;
  }
}
</style>
</head>

<body>

<div class="container">

<header>
  <h1>üí™ Sistema de Treino Completo</h1>
  <p id="userDisplay" style="font-size: 1.2em; margin-top: 10px;"></p>
</header>

<!-- Tela de Boas-vindas -->
<div id="welcomeScreen" class="welcome-screen">
  <h2>üëã Bem-vindo ao seu Sistema de Treino!</h2>
  <p>Comece criando seu cadastro para ter acesso completo √† plataforma</p>
  <div class="welcome-buttons">
    <button class="btn btn-primary" onclick="mostrarCadastro()">üìù Fazer Cadastro</button>
    <button class="btn btn-secondary" onclick="verificarUsuario()">üîë J√° tenho cadastro</button>
  </div>
</div>

<!-- Navega√ß√£o -->
<nav class="nav-tabs" id="mainNav" style="display: none;">
  <button class="nav-tab active" onclick="mudarAba('perfil')">üë§ Perfil</button>
  <button class="nav-tab" onclick="mudarAba('treinos')">üèãÔ∏è Treinos</button>
  <button class="nav-tab" onclick="mudarAba('medicoes')">üìä Medi√ß√µes</button>
  <button class="nav-tab" onclick="mudarAba('timeline')">üìÖ Timeline</button>
  <button class="nav-tab" onclick="mudarAba('cadastro')">‚öôÔ∏è Configura√ß√µes</button>
</nav>

<!-- Se√ß√£o: Cadastro/Perfil -->
<section id="cadastro" class="section">
  <div class="form-card">
    <h2>üìã Cadastro de Aluno</h2>
    <form id="formCadastro" onsubmit="salvarCadastro(event)">
      <div class="form-group">
        <label>Nome Completo *</label>
        <input type="text" id="nome" required>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Data de Nascimento *</label>
          <input type="date" id="dataNascimento" required>
        </div>
        
        <div class="form-group">
          <label>Sexo *</label>
          <select id="sexo" required>
            <option value="">Selecione</option>
            <option value="M">Masculino</option>
            <option value="F">Feminino</option>
          </select>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email">
        </div>
        
        <div class="form-group">
          <label>Telefone</label>
          <input type="tel" id="telefone">
        </div>
      </div>
      
      <div class="form-group">
        <label>Objetivo do Treino</label>
        <select id="objetivo">
          <option value="emagrecimento">Emagrecimento</option>
          <option value="hipertrofia">Ganho de Massa Muscular</option>
          <option value="condicionamento">Condicionamento F√≠sico</option>
          <option value="saude">Sa√∫de e Bem-estar</option>
        </select>
      </div>
      
      <div class="form-group">
        <label>Observa√ß√µes M√©dicas</label>
        <textarea id="observacoes" rows="3" placeholder="Ex: problemas card√≠acos, les√µes, restri√ß√µes..."></textarea>
      </div>
      
      <div style="text-align: center; margin-top: 25px;">
        <button type="submit" class="btn btn-primary">üíæ Salvar Cadastro</button>
      </div>
    </form>
  </div>
</section>

<!-- Se√ß√£o: Perfil -->
<section id="perfil" class="section">
  <div class="profile-card">
    <div class="profile-avatar" id="profileAvatar">üë§</div>
    <div class="profile-info">
      <h2 id="profileNome">-</h2>
      <p><strong>Idade:</strong> <span id="profileIdade">-</span> anos</p>
      <p><strong>Objetivo:</strong> <span id="profileObjetivo">-</span></p>
      <div class="profile-actions">
        <button class="btn btn-secondary" onclick="mudarAba('medicoes')">üìä Nova Medi√ß√£o</button>
        <button class="btn btn-warning" onclick="mudarAba('cadastro')">‚úèÔ∏è Editar Perfil</button>
      </div>
    </div>
  </div>
  
  <div class="stats-grid">
    <div class="stat-card">
      <h3>Treinos Este M√™s</h3>
      <div class="value" id="statTreinosMes">0</div>
    </div>
    <div class="stat-card">
      <h3>Medi√ß√µes Registradas</h3>
      <div class="value" id="statMedicoes">0</div>
    </div>
    <div class="stat-card">
      <h3>Peso Atual</h3>
      <div class="value" id="statPeso">-</div>
    </div>
    <div class="stat-card">
      <h3>IMC</h3>
      <div class="value" id="statIMC">-</div>
    </div>
  </div>
</section>

<!-- Se√ß√£o: Treinos -->
<section id="treinos" class="section">
  <h2 style="margin-bottom: 20px; font-size: 2em;">üèãÔ∏è Seus Treinos</h2>
  <div id="treinosContainer"></div>
</section>

<!-- Se√ß√£o: Medi√ß√µes -->
<section id="medicoes" class="section">
  <div class="form-card">
    <h2>üìè Nova Avalia√ß√£o F√≠sica</h2>
    <form id="formMedicoes" onsubmit="salvarMedicao(event)">
      <div class="form-row">
        <div class="form-group">
          <label>Data da Avalia√ß√£o *</label>
          <input type="date" id="dataMedicao" required>
        </div>
        
        <div class="form-group">
          <label>Peso (kg) *</label>
          <input type="number" step="0.1" id="peso" required>
        </div>
        
        <div class="form-group">
          <label>Altura (m) *</label>
          <input type="number" step="0.01" id="altura" required>
        </div>
      </div>
      
      <h3 style="margin: 20px 0 15px; color: #005fa3;">Composi√ß√£o Corporal</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label>% Gordura</label>
          <input type="number" step="0.1" id="gordura">
        </div>
        
        <div class="form-group">
          <label>% Massa Muscular</label>
          <input type="number" step="0.1" id="massaMuscular">
        </div>
        
        <div class="form-group">
          <label>Metabolismo Basal</label>
          <input type="number" id="metabolismo">
        </div>
      </div>
      
      <h3 style="margin: 20px 0 15px; color: #005fa3;">Medidas Corporais (cm)</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label>Pesco√ßo</label>
          <input type="number" step="0.1" id="pescoco">
        </div>
        
        <div class="form-group">
          <label>Ombros</label>
          <input type="number" step="0.1" id="ombros">
        </div>
        
        <div class="form-group">
          <label>Peitoral</label>
          <input type="number" step="0.1" id="peitoral">
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Bra√ßo Esquerdo</label>
          <input type="number" step="0.1" id="bracoEsq">
        </div>
        
        <div class="form-group">
          <label>Bra√ßo Direito</label>
          <input type="number" step="0.1" id="bracoDir">
        </div>
        
        <div class="form-group">
          <label>Cintura</label>
          <input type="number" step="0.1" id="cintura">
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Abd√¥men</label>
          <input type="number" step="0.1" id="abdomen">
        </div>
        
        <div class="form-group">
          <label>Quadril</label>
          <input type="number" step="0.1" id="quadril">
        </div>
        
        <div class="form-group">
          <label>Coxa Esquerda</label>
          <input type="number" step="0.1" id="coxaEsq">
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Coxa Direita</label>
          <input type="number" step="0.1" id="coxaDir">
        </div>
        
        <div class="form-group">
          <label>Panturrilha Esquerda</label>
          <input type="number" step="0.1" id="panturrilhaEsq">
        </div>
        
        <div class="form-group">
          <label>Panturrilha Direita</label>
          <input type="number" step="0.1" id="panturrilhaDir">
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 25px;">
        <button type="submit" class="btn btn-primary">üíæ Salvar Medi√ß√£o</button>
      </div>
    </form>
  </div>
  
  <div class="medicoes-historico" id="medicoesHistorico"></div>
</section>

<!-- Se√ß√£o: Timeline -->
<section id="timeline" class="section">
  <h2 style="text-align: center; margin-bottom: 40px; font-size: 2.5em;">üìÖ Sua Jornada</h2>
  <div class="timeline" id="timelineContainer"></div>
</section>

<!-- Modal de Demonstra√ß√£o de Exerc√≠cio -->
<div id="exerciseModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalExerciseName"></h2>
      <button class="modal-close" onclick="fecharModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="exercise-demo">
        <div class="avatar-container" id="avatarContainer"></div>
        <p style="font-size: 1.1em; margin-top: 15px;"><strong>Repeti√ß√µes:</strong> <span id="modalReps"></span></p>
        <p style="font-size: 1.1em;"><strong>S√©ries:</strong> <span id="modalSets"></span></p>
        <p style="font-size: 1.1em;"><strong>Descanso:</strong> <span id="modalRest"></span></p>
      </div>
      
      <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-top: 20px;">
        <h3 style="color: #005fa3; margin-bottom: 15px;">üìù Como Executar:</h3>
        <div id="modalInstructions"></div>
      </div>
      
      <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 15px; border-left: 4px solid #ffc107;">
        <h4 style="color: #856404; margin-bottom: 10px;">‚ö†Ô∏è Dicas Importantes:</h4>
        <div id="modalTips"></div>
      </div>
    </div>
  </div>
</div>

</div>

<script>
// Banco de dados de exerc√≠cios com instru√ß√µes
const exerciciosDB = {
  'Desenvolvimento com barra': {
    instrucoes: [
      'Sente-se em um banco com apoio para as costas',
      'Pegue a barra com as m√£os na largura dos ombros',
      'Empurre a barra para cima at√© estender completamente os bra√ßos',
      'Des√ßa controladamente at√© a altura dos ombros',
      'Mantenha o core contra√≠do durante todo o movimento'
    ],
    dicas: [
      'N√£o arqueie as costas',
      'Mantenha os cotovelos alinhados com os pulsos',
      'Expire ao subir, inspire ao descer'
    ],
    avatar: 'shoulderPress',
    musculos: ['Ombros (deltoides)', 'Tr√≠ceps']
  },
  'Pulldown com barra': {
    instrucoes: [
      'Sente-se na m√°quina e ajuste a almofada nas coxas',
      'Pegue a barra com as m√£os mais abertas que os ombros',
      'Puxe a barra em dire√ß√£o ao peito, contraindo as esc√°pulas',
      'Suba controladamente at√© a extens√£o completa dos bra√ßos',
      'Mantenha o tronco ligeiramente inclinado para tr√°s'
    ],
    dicas: [
      'Foque em puxar com as costas, n√£o com os bra√ßos',
      'N√£o balance o corpo',
      'Des√ßa a barra at√© a linha dos mamilos'
    ],
    avatar: 'pulldown',
    musculos: ['Grande dorsal', 'B√≠ceps', 'Trap√©zio']
  },
  'Stiff com barra': {
    instrucoes: [
      'Fique em p√© com os p√©s na largura do quadril',
      'Segure a barra com as m√£os na frente das coxas',
      'Mantendo os joelhos levemente flexionados, incline o tronco para frente',
      'Des√ßa a barra deslizando pelas pernas at√© sentir alongamento posterior',
      'Retorne √† posi√ß√£o inicial contraindo gl√∫teos e posterior de coxa'
    ],
    dicas: [
      'Mantenha as costas retas durante todo o movimento',
      'N√£o dobre muito os joelhos',
      'Foque em empurrar o quadril para tr√°s'
    ],
    avatar: 'squat',
    musculos: ['Posterior de coxa', 'Gl√∫teos', 'Lombar']
  },
  'Crucifixo inclinado': {
    instrucoes: [
      'Deite-se em um banco inclinado (30-45 graus)',
      'Segure os halteres acima do peito com os bra√ßos estendidos',
      'Abra os bra√ßos em arco at√© sentir alongamento no peitoral',
      'Retorne √† posi√ß√£o inicial contraindo o peitoral',
      'Mantenha uma leve flex√£o nos cotovelos'
    ],
    dicas: [
      'N√£o des√ßa os halteres muito al√©m da linha dos ombros',
      'Mantenha os p√©s firmes no ch√£o',
      'Controle o movimento na descida'
    ],
    avatar: 'pushup',
    musculos: ['Peitoral superior', 'Ombros anteriores']
  },
  'Cadeira extensora': {
    instrucoes: [
      'Sente-se na m√°quina e ajuste o apoio dos p√©s',
      'Segure nas al√ßas laterais para estabiliza√ß√£o',
      'Estenda as pernas at√© a contra√ß√£o completa do quadr√≠ceps',
      'Retorne controladamente √† posi√ß√£o inicial',
      'Mantenha as costas apoiadas no banco'
    ],
    dicas: [
      'N√£o trave os joelhos no topo do movimento',
      'Evite movimentos bruscos',
      'Contraia o quadr√≠ceps no topo por 1 segundo'
    ],
    avatar: 'squat',
    musculos: ['Quadr√≠ceps (frente da coxa)']
  },
  'Eleva√ß√£o lateral': {
    instrucoes: [
      'Fique em p√© com os p√©s na largura dos ombros',
      'Segure um halter em cada m√£o ao lado do corpo',
      'Eleve os bra√ßos lateralmente at√© a altura dos ombros',
      'Des√ßa controladamente at√© a posi√ß√£o inicial',
      'Mantenha uma leve flex√£o nos cotovelos'
    ],
    dicas: [
      'N√£o balance o corpo',
      'N√£o eleve acima da linha dos ombros',
      'Lidereopor com os cotovelos, n√£o com as m√£os'
    ],
    avatar: 'shoulderPress',
    musculos: ['Ombros laterais (deltoide medial)']
  },
  'Remada baixa': {
    instrucoes: [
      'Sente-se na m√°quina com os p√©s apoiados',
      'Segure a barra/manopla com os bra√ßos estendidos',
      'Puxe em dire√ß√£o ao abd√¥men contraindo as esc√°pulas',
      'Retorne controladamente √† posi√ß√£o inicial',
      'Mantenha as costas eretas'
    ],
    dicas: [
      'N√£o arqueie as costas',
      'Puxe os cotovelos para tr√°s, n√£o para baixo',
      'Mantenha o core contra√≠do'
    ],
    avatar: 'pulldown',
    musculos: ['Dorsais', 'Trap√©zio m√©dio', 'B√≠ceps']
  },
  'Agachamento livre': {
    instrucoes: [
      'Posicione a barra nas costas (trap√©zio superior)',
      'P√©s na largura dos ombros, pontas levemente para fora',
      'Des√ßa flexionando joelhos e quadril simultaneamente',
      'Des√ßa at√© as coxas ficarem paralelas ao ch√£o',
      'Suba empurrando o ch√£o, mantendo o peso nos calcanhares'
    ],
    dicas: [
      'Mantenha o peito para cima',
      'Joelhos alinhados com os p√©s',
      'N√£o deixe os joelhos ultrapassarem muito os p√©s'
    ],
    avatar: 'squat',
    musculos: ['Quadr√≠ceps', 'Gl√∫teos', 'Posterior de coxa']
  },
  'Supino reto': {
    instrucoes: [
      'Deite-se no banco com os p√©s firmes no ch√£o',
      'Segure a barra ligeiramente mais aberta que os ombros',
      'Des√ßa a barra at√© tocar o peito (linha dos mamilos)',
      'Empurre a barra para cima at√© extens√£o completa',
      'Mantenha as esc√°pulas retra√≠das'
    ],
    dicas: [
      'N√£o tire os gl√∫teos do banco',
      'Controle a descida da barra',
      'Mantenha os pulsos retos'
    ],
    avatar: 'pushup',
    musculos: ['Peitoral', 'Ombros anteriores', 'Tr√≠ceps']
  }
};

// Dados de treinos
const treinos = {
  'Segunda': {
    nome: 'Treino A - Ombros e Peito',
    exercicios: [
      { metodo: 'Tradicional', exercicio: 'Desenvolvimento com barra', series: 3, reps: 10, descanso: '90s' },
      { metodo: 'Tradicional', exercicio: 'Eleva√ß√£o lateral', series: 3, reps: 12, descanso: '60s' }
    ]
  },
  'Ter√ßa': {
    nome: 'Treino B - Costas',
    exercicios: [
      { metodo: 'Tradicional', exercicio: 'Pulldown com barra', series: 4, reps: 12, descanso: '90s' },
      { metodo: 'Tradicional', exercicio: 'Remada baixa', series: 3, reps: 12, descanso: '90s' }
    ]
  },
  'Quarta': {
    nome: 'Treino C - Pernas',
    exercicios: [
      { metodo: 'Tradicional', exercicio: 'Stiff com barra', series: 3, reps: 12, descanso: '90s' },
      { metodo: 'Tradicional', exercicio: 'Agachamento livre', series: 4, reps: 10, descanso: '120s' }
    ]
  },
  'Quinta': {
    nome: 'Treino A - Peito',
    exercicios: [
      { metodo: 'Tradicional', exercicio: 'Supino reto', series: 4, reps: 10, descanso: '120s' },
      { metodo: 'Tradicional', exercicio: 'Crucifixo inclinado', series: 3, reps: 10, descanso: '90s' }
    ]
  },
  'Sexta': {
    nome: 'Treino B - Pernas',
    exercicios: [
      { metodo: 'Tradicional', exercicio: 'Cadeira extensora', series: 3, reps: 15, descanso: '120s' }
    ]
  },
  'S√°bado': {
    nome: 'Descanso ou Treino Leve',
    exercicios: []
  },
  'Domingo': {
    nome: 'Descanso',
    exercicios: []
  }
};

// LocalStorage helpers
function salvar(chave, dados) {
  localStorage.setItem(chave, JSON.stringify(dados));
}

function carregar(chave) {
  const dados = localStorage.getItem(chave);
  return dados ? JSON.parse(dados) : null;
}

// Fun√ß√µes de inicializa√ß√£o
function init() {
  const usuario = carregar('usuario');
  
  if (usuario) {
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('mainNav').style.display = 'flex';
    document.getElementById('userDisplay').textContent = `Ol√°, ${usuario.nome}! üëã`;
    carregarDadosUsuario();
    mudarAba('perfil');
  } else {
    document.getElementById('welcomeScreen').style.display = 'block';
    document.getElementById('mainNav').style.display = 'none';
  }
}

function mostrarCadastro() {
  document.getElementById('welcomeScreen').style.display = 'none';
  document.getElementById('mainNav').style.display = 'flex';
  mudarAba('cadastro');
}

function verificarUsuario() {
  const usuario = carregar('usuario');
  if (usuario) {
    init();
  } else {
    alert('Nenhum cadastro encontrado. Por favor, fa√ßa seu cadastro primeiro.');
    mostrarCadastro();
  }
}

// Navega√ß√£o entre abas
function mudarAba(abaId) {
  // Remover active de todas as abas
  document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
  document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
  
  // Ativar aba selecionada
  event?.target?.classList.add('active');
  document.getElementById(abaId).classList.add('active');
  
  // Carregar conte√∫do espec√≠fico
  if (abaId === 'treinos') {
    renderizarTreinos();
  } else if (abaId === 'timeline') {
    renderizarTimeline();
  } else if (abaId === 'medicoes') {
    renderizarHistoricoMedicoes();
  } else if (abaId === 'cadastro') {
    preencherFormularioCadastro();
  } else if (abaId === 'perfil') {
    atualizarPerfil();
  }
}

// Cadastro de usu√°rio
function salvarCadastro(e) {
  e.preventDefault();
  
  const usuario = {
    nome: document.getElementById('nome').value,
    dataNascimento: document.getElementById('dataNascimento').value,
    sexo: document.getElementById('sexo').value,
    email: document.getElementById('email').value,
    telefone: document.getElementById('telefone').value,
    objetivo: document.getElementById('objetivo').value,
    observacoes: document.getElementById('observacoes').value,
    dataCadastro: new Date().toISOString()
  };
  
  salvar('usuario', usuario);
  
  alert('‚úÖ Cadastro salvo com sucesso!');
  init();
  mudarAba('perfil');
}

function preencherFormularioCadastro() {
  const usuario = carregar('usuario');
  if (usuario) {
    document.getElementById('nome').value = usuario.nome || '';
    document.getElementById('dataNascimento').value = usuario.dataNascimento || '';
    document.getElementById('sexo').value = usuario.sexo || '';
    document.getElementById('email').value = usuario.email || '';
    document.getElementById('telefone').value = usuario.telefone || '';
    document.getElementById('objetivo').value = usuario.objetivo || 'saude';
    document.getElementById('observacoes').value = usuario.observacoes || '';
  }
}

function calcularIdade(dataNascimento) {
  const hoje = new Date();
  const nascimento = new Date(dataNascimento);
  let idade = hoje.getFullYear() - nascimento.getFullYear();
  const mes = hoje.getMonth() - nascimento.getMonth();
  
  if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
    idade--;
  }
  
  return idade;
}

// Perfil
function atualizarPerfil() {
  const usuario = carregar('usuario');
  const medicoes = carregar('medicoes') || [];
  const ultimaMedicao = medicoes[0];
  
  if (usuario) {
    document.getElementById('profileNome').textContent = usuario.nome;
    document.getElementById('profileIdade').textContent = calcularIdade(usuario.dataNascimento);
    
    const objetivos = {
      'emagrecimento': 'Emagrecimento',
      'hipertrofia': 'Ganho de Massa Muscular',
      'condicionamento': 'Condicionamento F√≠sico',
      'saude': 'Sa√∫de e Bem-estar'
    };
    document.getElementById('profileObjetivo').textContent = objetivos[usuario.objetivo] || '-';
    
    // Avatar com inicial do nome
    const inicial = usuario.nome.charAt(0).toUpperCase();
    document.getElementById('profileAvatar').textContent = inicial;
  }
  
  // Atualizar estat√≠sticas
  document.getElementById('statMedicoes').textContent = medicoes.length;
  
  if (ultimaMedicao) {
    document.getElementById('statPeso').textContent = ultimaMedicao.peso + ' kg';
    const imc = (ultimaMedicao.peso / (ultimaMedicao.altura * ultimaMedicao.altura)).toFixed(1);
    document.getElementById('statIMC').textContent = imc;
  } else {
    document.getElementById('statPeso').textContent = '-';
    document.getElementById('statIMC').textContent = '-';
  }
}

function carregarDadosUsuario() {
  atualizarPerfil();
}

// Medi√ß√µes
function salvarMedicao(e) {
  e.preventDefault();
  
  const medicao = {
    data: document.getElementById('dataMedicao').value,
    peso: parseFloat(document.getElementById('peso').value),
    altura: parseFloat(document.getElementById('altura').value),
    gordura: parseFloat(document.getElementById('gordura').value) || null,
    massaMuscular: parseFloat(document.getElementById('massaMuscular').value) || null,
    metabolismo: parseInt(document.getElementById('metabolismo').value) || null,
    medidas: {
      pescoco: parseFloat(document.getElementById('pescoco').value) || null,
      ombros: parseFloat(document.getElementById('ombros').value) || null,
      peitoral: parseFloat(document.getElementById('peitoral').value) || null,
      bracoEsq: parseFloat(document.getElementById('bracoEsq').value) || null,
      bracoDir: parseFloat(document.getElementById('bracoDir').value) || null,
      cintura: parseFloat(document.getElementById('cintura').value) || null,
      abdomen: parseFloat(document.getElementById('abdomen').value) || null,
      quadril: parseFloat(document.getElementById('quadril').value) || null,
      coxaEsq: parseFloat(document.getElementById('coxaEsq').value) || null,
      coxaDir: parseFloat(document.getElementById('coxaDir').value) || null,
      panturrilhaEsq: parseFloat(document.getElementById('panturrilhaEsq').value) || null,
      panturrilhaDir: parseFloat(document.getElementById('panturrilhaDir').value) || null
    },
    timestamp: new Date().toISOString()
  };
  
  // Calcular IMC
  medicao.imc = (medicao.peso / (medicao.altura * medicao.altura)).toFixed(1);
  
  let medicoes = carregar('medicoes') || [];
  medicoes.unshift(medicao);
  salvar('medicoes', medicoes);
  
  alert('‚úÖ Medi√ß√£o salva com sucesso!');
  document.getElementById('formMedicoes').reset();
  renderizarHistoricoMedicoes();
  atualizarPerfil();
  
  // Adicionar √† timeline
  adicionarEventoTimeline({
    tipo: 'medicao',
    data: medicao.data,
    titulo: 'Nova Avalia√ß√£o F√≠sica',
    descricao: `Peso: ${medicao.peso}kg | IMC: ${medicao.imc}`
  });
}

function renderizarHistoricoMedicoes() {
  const medicoes = carregar('medicoes') || [];
  const container = document.getElementById('medicoesHistorico');
  
  if (medicoes.length === 0) {
    container.innerHTML = '<p style="text-align: center; padding: 20px; color: white;">Nenhuma medi√ß√£o registrada ainda.</p>';
    return;
  }
  
  let html = '<h2 style="color: #4fc3f7; margin: 30px 0 20px;">üìä Hist√≥rico de Medi√ß√µes</h2>';
  
  medicoes.forEach((med, idx) => {
    html += `
      <div class="medicoes-grid" style="margin-bottom: 30px; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px;">
        <div class="medicao-card">
          <h3>üìÖ ${new Date(med.data).toLocaleDateString('pt-BR')}</h3>
          <div class="medicao-item">
            <span class="medicao-label">Peso:</span>
            <span class="medicao-value">${med.peso} kg</span>
          </div>
          <div class="medicao-item">
            <span class="medicao-label">Altura:</span>
            <span class="medicao-value">${med.altura} m</span>
          </div>
          <div class="medicao-item">
            <span class="medicao-label">IMC:</span>
            <span class="medicao-value">${med.imc}</span>
          </div>
        </div>
        
        ${med.gordura || med.massaMuscular ? `
        <div class="medicao-card">
          <h3>üí™ Composi√ß√£o Corporal</h3>
          ${med.gordura ? `
          <div class="medicao-item">
            <span class="medicao-label">% Gordura:</span>
            <span class="medicao-value">${med.gordura}%</span>
          </div>` : ''}
          ${med.massaMuscular ? `
          <div class="medicao-item">
            <span class="medicao-label">% Massa Muscular:</span>
            <span class="medicao-value">${med.massaMuscular}%</span>
          </div>` : ''}
          ${med.metabolismo ? `
          <div class="medicao-item">
            <span class="medicao-label">Metabolismo:</span>
            <span class="medicao-value">${med.metabolismo} kcal</span>
          </div>` : ''}
        </div>` : ''}
        
        ${Object.values(med.medidas).some(v => v !== null) ? `
        <div class="medicao-card">
          <h3>üìè Medidas (cm)</h3>
          ${med.medidas.pescoco ? `<div class="medicao-item"><span class="medicao-label">Pesco√ßo:</span><span class="medicao-value">${med.medidas.pescoco} cm</span></div>` : ''}
          ${med.medidas.ombros ? `<div class="medicao-item"><span class="medicao-label">Ombros:</span><span class="medicao-value">${med.medidas.ombros} cm</span></div>` : ''}
          ${med.medidas.peitoral ? `<div class="medicao-item"><span class="medicao-label">Peitoral:</span><span class="medicao-value">${med.medidas.peitoral} cm</span></div>` : ''}
          ${med.medidas.bracoEsq ? `<div class="medicao-item"><span class="medicao-label">Bra√ßo Esq:</span><span class="medicao-value">${med.medidas.bracoEsq} cm</span></div>` : ''}
          ${med.medidas.cintura ? `<div class="medicao-item"><span class="medicao-label">Cintura:</span><span class="medicao-value">${med.medidas.cintura} cm</span></div>` : ''}
          ${med.medidas.quadril ? `<div class="medicao-item"><span class="medicao-label">Quadril:</span><span class="medicao-value">${med.medidas.quadril} cm</span></div>` : ''}
        </div>` : ''}
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// Treinos
function renderizarTreinos() {
  const diaAtual = obterDiaSemana();
  let html = '';
  
  for (const [dia, treino] of Object.entries(treinos)) {
    const ehHoje = dia === diaAtual;
    
    html += `
      <div class="treino-card ${ehHoje ? 'hoje' : ''}">
        <h2>${ehHoje ? 'üìç ' : ''}${dia} - ${treino.nome}</h2>
    `;
    
    if (treino.exercicios.length > 0) {
      html += `
        <table>
          <thead>
            <tr>
              <th>M√©todo</th>
              <th>Exerc√≠cio</th>
              <th>S√©ries</th>
              <th>Reps</th>
              <th>Descanso</th>
              <th>Demonstra√ß√£o</th>
            </tr>
          </thead>
          <tbody>
      `;
      
      treino.exercicios.forEach(ex => {
        html += `
          <tr>
            <td>${ex.metodo}</td>
            <td><strong>${ex.exercicio}</strong></td>
            <td>${ex.series}</td>
            <td>${ex.reps}</td>
            <td>${ex.descanso}</td>
            <td>
              <button class="btn-demo" onclick='mostrarExercicio(${JSON.stringify(ex)})'>
                üëÅÔ∏è Ver
              </button>
            </td>
          </tr>
        `;
      });
      
      html += `
          </tbody>
        </table>
      `;
    } else {
      html += '<p style="text-align: center; padding: 20px; font-size: 1.2em;">üéâ Dia de descanso!</p>';
    }
    
    html += '</div>';
  }
  
  document.getElementById('treinosContainer').innerHTML = html;
}

function obterDiaSemana() {
  const dias = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
  return dias[new Date().getDay()];
}

// Modal de exerc√≠cio
function mostrarExercicio(exercicio) {
  const modal = document.getElementById('exerciseModal');
  const exercicioInfo = exerciciosDB[exercicio.exercicio];
  
  document.getElementById('modalExerciseName').textContent = exercicio.exercicio;
  document.getElementById('modalReps').textContent = exercicio.reps;
  document.getElementById('modalSets').textContent = exercicio.series;
  document.getElementById('modalRest').textContent = exercicio.descanso;
  
  if (exercicioInfo) {
    // Instru√ß√µes
    let instrucoesHTML = '<ol style="padding-left: 20px;">';
    exercicioInfo.instrucoes.forEach(instrucao => {
      instrucoesHTML += `<li style="margin: 8px 0; line-height: 1.6;">${instrucao}</li>`;
    });
    instrucoesHTML += '</ol>';
    
    instrucoesHTML += `<p style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 6px;"><strong>M√∫sculos trabalhados:</strong> ${exercicioInfo.musculos.join(', ')}</p>`;
    
    document.getElementById('modalInstructions').innerHTML = instrucoesHTML;
    
    // Dicas
    let dicasHTML = '<ul style="padding-left: 20px;">';
    exercicioInfo.dicas.forEach(dica => {
      dicasHTML += `<li style="margin: 8px 0; line-height: 1.6;">${dica}</li>`;
    });
    dicasHTML += '</ul>';
    
    document.getElementById('modalTips').innerHTML = dicasHTML;
    
    // Avatar animado
    renderizarAvatar(exercicioInfo.avatar);
  } else {
    document.getElementById('modalInstructions').innerHTML = '<p>Informa√ß√µes detalhadas n√£o dispon√≠veis para este exerc√≠cio.</p>';
    document.getElementById('modalTips').innerHTML = '<p>Consulte seu instrutor para orienta√ß√µes espec√≠ficas.</p>';
    renderizarAvatar('default');
  }
  
  modal.classList.add('active');
}

function fecharModal() {
  document.getElementById('exerciseModal').classList.remove('active');
}

function renderizarAvatar(tipo) {
  const container = document.getElementById('avatarContainer');
  
  const avatars = {
    'shoulderPress': `
      <svg width="200" height="300" viewBox="0 0 200 300" style="animation: shoulderPress 2s ease-in-out infinite;">
        <!-- Cabe√ßa -->
        <circle cx="100" cy="30" r="20" fill="#FFD700" stroke="#333" stroke-width="2"/>
        <!-- Corpo -->
        <rect x="85" y="50" width="30" height="60" fill="#4CAF50" rx="5"/>
        <!-- Bra√ßos -->
        <rect x="50" y="60" width="30" height="8" fill="#FFA726" rx="4"/>
        <rect x="120" y="60" width="30" height="8" fill="#FFA726" rx="4"/>
        <!-- Barra -->
        <rect x="40" y="55" width="120" height="6" fill="#666" rx="3"/>
        <!-- Pesos -->
        <rect x="30" y="50" width="15" height="16" fill="#333" rx="2"/>
        <rect x="155" y="50" width="15" height="16" fill="#333" rx="2"/>
        <!-- Pernas -->
        <rect x="85" y="110" width="12" height="50" fill="#2196F3" rx="3"/>
        <rect x="103" y="110" width="12" height="50" fill="#2196F3" rx="3"/>
        <!-- P√©s -->
        <ellipse cx="91" cy="165" rx="8" ry="4" fill="#333"/>
        <ellipse cx="109" cy="165" rx="8" ry="4" fill="#333"/>
        <text x="100" y="200" text-anchor="middle" font-size="14" fill="#fff">Desenvolvimento</text>
        <text x="100" y="220" text-anchor="middle" font-size="12" fill="#4CAF50">‚Üë Empurre para cima</text>
      </svg>
    `,
    'pulldown': `
      <svg width="200" height="300" viewBox="0 0 200 300" style="animation: pulldown 2s ease-in-out infinite;">
        <!-- Cabe√ßa -->
        <circle cx="100" cy="80" r="20" fill="#FFD700" stroke="#333" stroke-width="2"/>
        <!-- Corpo -->
        <rect x="85" y="100" width="30" height="60" fill="#4CAF50" rx="5"/>
        <!-- Bra√ßos puxando -->
        <line x1="100" y1="40" x2="60" y2="105" stroke="#FFA726" stroke-width="8" stroke-linecap="round"/>
        <line x1="100" y1="40" x2="140" y2="105" stroke="#FFA726" stroke-width="8" stroke-linecap="round"/>
        <!-- Barra -->
        <rect x="40" y="35" width="120" height="6" fill="#666" rx="3"/>
        <!-- Cabo -->
        <line x1="100" y1="10" x2="100" y2="35" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <!-- Pernas sentadas -->
        <rect x="70" y="160" width="15" height="40" fill="#2196F3" rx="3" transform="rotate(45 77.5 180)"/>
        <rect x="115" y="160" width="15" height="40" fill="#2196F3" rx="3" transform="rotate(-45 122.5 180)"/>
        <text x="100" y="240" text-anchor="middle" font-size="14" fill="#fff">Pulldown</text>
        <text x="100" y="260" text-anchor="middle" font-size="12" fill="#4CAF50">‚Üì Puxe para baixo</text>
      </svg>
    `,
    'squat': `
      <svg width="200" height="300" viewBox="0 0 200 300" style="animation: squat 2s ease-in-out infinite;">
        <!-- Cabe√ßa -->
        <circle cx="100" cy="40" r="20" fill="#FFD700" stroke="#333" stroke-width="2"/>
        <!-- Corpo -->
        <rect x="85" y="60" width="30" height="70" fill="#4CAF50" rx="5"/>
        <!-- Bra√ßos -->
        <rect x="70" y="70" width="10" height="50" fill="#FFA726" rx="3"/>
        <rect x="120" y="70" width="10" height="50" fill="#FFA726" rx="3"/>
        <!-- Barra nas costas -->
        <rect x="50" y="55" width="100" height="8" fill="#666" rx="4"/>
        <rect x="40" y="50" width="15" height="18" fill="#333" rx="2"/>
        <rect x="145" y="50" width="15" height="18" fill="#333" rx="2"/>
        <!-- Pernas -->
        <rect x="80" y="130" width="15" height="60" fill="#2196F3" rx="3"/>
        <rect x="105" y="130" width="15" height="60" fill="#2196F3" rx="3"/>
        <!-- P√©s -->
        <ellipse cx="87.5" cy="195" rx="12" ry="6" fill="#333"/>
        <ellipse cx="112.5" cy="195" rx="12" ry="6" fill="#333"/>
        <text x="100" y="230" text-anchor="middle" font-size="14" fill="#fff">Agachamento</text>
        <text x="100" y="250" text-anchor="middle" font-size="12" fill="#4CAF50">‚Üï Suba e des√ßa</text>
      </svg>
    `,
    'pushup': `
      <svg width="200" height="300" viewBox="0 0 200 300" style="animation: pushup 2s ease-in-out infinite;">
        <!-- Cabe√ßa -->
        <circle cx="60" cy="120" r="20" fill="#FFD700" stroke="#333" stroke-width="2"/>
        <!-- Corpo inclinado -->
        <rect x="75" y="115" width="70" height="25" fill="#4CAF50" rx="5" transform="rotate(-15 110 127)"/>
        <!-- Bra√ßos -->
        <rect x="75" y="135" width="8" height="30" fill="#FFA726" rx="3" transform="rotate(60 79 150)"/>
        <rect x="137" y="135" width="8" height="30" fill="#FFA726" rx="3" transform="rotate(-60 141 150)"/>
        <!-- Pernas -->
        <rect x="130" y="120" width="12" height="45" fill="#2196F3" rx="3" transform="rotate(-15 136 142)"/>
        <rect x="145" y="120" width="12" height="45" fill="#2196F3" rx="3" transform="rotate(-15 151 142)"/>
        <!-- Banco inclinado -->
        <rect x="20" y="180" width="160" height="15" fill="#8D6E63" rx="3" transform="rotate(-10 100 187)"/>
        <text x="100" y="240" text-anchor="middle" font-size="14" fill="#fff">Crucifixo/Supino</text>
        <text x="100" y="260" text-anchor="middle" font-size="12" fill="#4CAF50">‚Üï Abra e feche</text>
      </svg>
    `,
    'default': `
      <svg width="200" height="300" viewBox="0 0 200 300">
        <circle cx="100" cy="60" r="25" fill="#FFD700" stroke="#333" stroke-width="2"/>
        <rect x="82" y="85" width="36" height="80" fill="#4CAF50" rx="5"/>
        <rect x="60" y="95" width="12" height="65" fill="#FFA726" rx="3"/>
        <rect x="128" y="95" width="12" height="65" fill="#FFA726" rx="3"/>
        <rect x="82" y="165" width="15" height="70" fill="#2196F3" rx="3"/>
        <rect x="103" y="165" width="15" height="70" fill="#2196F3" rx="3"/>
        <ellipse cx="89.5" cy="240" rx="10" ry="5" fill="#333"/>
        <ellipse cx="110.5" cy="240" rx="10" ry="5" fill="#333"/>
        <text x="100" y="280" text-anchor="middle" font-size="14" fill="#fff">Avatar do Exerc√≠cio</text>
      </svg>
    `
  };
  
  container.innerHTML = avatars[tipo] || avatars['default'];
}

// Timeline
function adicionarEventoTimeline(evento) {
  let timeline = carregar('timeline') || [];
  timeline.unshift(evento);
  salvar('timeline', timeline);
}

function renderizarTimeline() {
  let timeline = carregar('timeline') || [];
  const medicoes = carregar('medicoes') || [];
  const usuario = carregar('usuario');
  
  // Criar eventos autom√°ticos se timeline estiver vazia
  if (timeline.length === 0 && usuario) {
    timeline.push({
      tipo: 'cadastro',
      data: usuario.dataCadastro.split('T')[0],
      titulo: 'üéâ In√≠cio da Jornada',
      descricao: `${usuario.nome} iniciou sua jornada fitness!`
    });
    
    medicoes.forEach(med => {
      timeline.push({
        tipo: 'medicao',
        data: med.data,
        titulo: 'üìä Avalia√ß√£o F√≠sica',
        descricao: `Peso: ${med.peso}kg | IMC: ${med.imc}`
      });
    });
    
    salvar('timeline', timeline);
  }
  
  // Ordenar por data
  timeline.sort((a, b) => new Date(b.data) - new Date(a.data));
  
  const container = document.getElementById('timelineContainer');
  
  if (timeline.length === 0) {
    container.innerHTML = '<p style="text-align: center; color: white; font-size: 1.2em;">Sua jornada come√ßar√° em breve! üöÄ</p>';
    return;
  }
  
  let html = '';
  timeline.forEach(evento => {
    const icones = {
      'cadastro': 'üéâ',
      'medicao': 'üìä',
      'treino': 'üí™',
      'meta': 'üéØ'
    };
    
    html += `
      <div class="timeline-item">
        <div class="timeline-date">${new Date(evento.data).toLocaleDateString('pt-BR')}</div>
        <div class="timeline-content">
          <h3>${icones[evento.tipo] || 'üìå'} ${evento.titulo}</h3>
          <p>${evento.descricao}</p>
        </div>
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// Fechar modal ao clicar fora
window.onclick = function(event) {
  const modal = document.getElementById('exerciseModal');
  if (event.target === modal) {
    fecharModal();
  }
}

// Inicializar
document.addEventListener('DOMContentLoaded', init);

// Preencher data atual no formul√°rio de medi√ß√£o
document.getElementById('dataMedicao')?.setAttribute('value', new Date().toISOString().split('T')[0]);

console.log('‚úÖ Sistema completo carregado!');
</script>

</body>
</html>