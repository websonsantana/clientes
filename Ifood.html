<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFood Replica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .restaurant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .category-btn.active {
            background-color: #ea1d2c;
            color: white;
        }
        .cart-slide {
            transition: transform 0.3s ease-in-out;
        }
        .cart-open {
            transform: translateX(0);
        }
        .cart-closed {
            transform: translateX(100%);
        }
        .food-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center">
                <div class="text-red-600 font-bold text-3xl mr-2">iFood</div>
                <div class="relative hidden md:block">
                    <input type="text" placeholder="Buscar restaurante ou comida" 
                           class="border border-gray-300 rounded-full py-2 px-4 w-64 focus:outline-none focus:ring-2 focus:ring-red-500">
                    <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                </div>
            </div>
            
            <div class="flex items-center space-x-4">
                <button class="hidden md:flex items-center text-gray-700 hover:text-red-600">
                    <i class="fas fa-user mr-1"></i>
                    <span>Entrar</span>
                </button>
                <button id="cart-btn" class="flex items-center text-gray-700 hover:text-red-600 relative">
                    <i class="fas fa-shopping-cart mr-1"></i>
                    <span>Carrinho</span>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">0</span>
                </button>
                <button class="md:hidden text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Search -->
        <div class="md:hidden px-4 pb-3">
            <div class="relative">
                <input type="text" placeholder="Buscar restaurante ou comida" 
                       class="border border-gray-300 rounded-full py-2 px-4 w-full focus:outline-none focus:ring-2 focus:ring-red-500">
                <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex">
        <!-- Restaurant List -->
        <div class="w-full md:w-3/4">
            <!-- Banner -->
            <div class="bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white mb-6">
                <h2 class="text-2xl font-bold mb-2">Peça comida online</h2>
                <p class="mb-4">Descubra os melhores restaurantes perto de você</p>
                <button class="bg-white text-red-600 px-4 py-2 rounded-full font-medium hover:bg-gray-100">Ver mais</button>
            </div>
            
            <!-- Categories -->
            <div class="mb-8">
                <h3 class="text-xl font-bold mb-4">Categorias</h3>
                <div class="flex space-x-3 overflow-x-auto pb-2">
                    <button class="category-btn active px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Todos</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Pizza</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Hambúrguer</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Japonesa</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Brasileira</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Saudável</button>
                    <button class="category-btn px-4 py-2 rounded-full bg-gray-100 whitespace-nowrap">Doces</button>
                </div>
            </div>
            
            <!-- Restaurants -->
            <div>
                <h3 class="text-xl font-bold mb-4">Restaurantes perto de você</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Restaurant Card 1 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.8
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Pizzaria Napoli</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Pizza • Italiana</span>
                                <span>• 1.2 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">30-40 min</span>
                                <span>• R$ 5,00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Restaurant Card 2 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1559847844-5315695dadae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.6
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Burger King</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Fast Food • Lanches</span>
                                <span>• 0.8 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">20-30 min</span>
                                <span>• R$ 4,50</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Restaurant Card 3 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1579871494447-9811cf80d66c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.9
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Sushi Place</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Japonesa • Sushi</span>
                                <span>• 1.5 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">40-50 min</span>
                                <span>• R$ 6,00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Restaurant Card 4 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1544025162-d76694265947?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.7
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Feijoada da Casa</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Brasileira • Tradicional</span>
                                <span>• 0.5 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">15-25 min</span>
                                <span>• R$ 3,50</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Restaurant Card 5 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.5
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Salad & Co</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Saudável • Saladas</span>
                                <span>• 1.0 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">20-30 min</span>
                                <span>• R$ 4,00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Restaurant Card 6 -->
                    <div class="restaurant-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80" 
                                 alt="Restaurant" class="w-full h-40 object-cover">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>4.8
                            </div>
                            <div class="absolute top-2 right-2 bg-white p-2 rounded-full">
                                <i class="far fa-heart text-gray-400 hover:text-red-500 cursor-pointer"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="font-bold text-lg mb-1">Doceria da Vó</h4>
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="mr-2">Doces • Sobremesas</span>
                                <span>• 0.7 km</span>
                            </div>
                            <div class="flex items-center text-sm">
                                <span class="mr-2">15-25 min</span>
                                <span>• R$ 3,00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cart Sidebar -->
        <div id="cart-sidebar" class="cart-slide cart-closed fixed top-0 right-0 w-full md:w-1/3 lg:w-1/4 h-full bg-white shadow-xl z-50 overflow-y-auto">
            <div class="p-4">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">Seu Carrinho</h3>
                    <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div id="cart-items" class="mb-4">
                    <!-- Cart items will be added here dynamically -->
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-2"></i>
                        <p>Seu carrinho está vazio</p>
                    </div>
                </div>
                
                <div class="border-t border-gray-200 pt-4">
                    <div class="flex justify-between mb-2">
                        <span>Subtotal</span>
                        <span id="subtotal">R$ 0,00</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Taxa de entrega</span>
                        <span id="delivery-fee">R$ 0,00</span>
                    </div>
                    <div class="flex justify-between font-bold text-lg">
                        <span>Total</span>
                        <span id="total">R$ 0,00</span>
                    </div>
                    
                    <button id="checkout-btn" class="w-full bg-red-600 text-white py-3 rounded-lg mt-4 font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Finalizar Pedido
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Restaurant Modal (hidden by default) -->
    <div id="restaurant-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="relative">
                <button id="close-modal" class="absolute top-4 right-4 bg-white p-2 rounded-full shadow-md z-10">
                    <i class="fas fa-times text-gray-700"></i>
                </button>
                
                <div class="relative h-48 md:h-64 bg-gray-200">
                    <img id="modal-restaurant-image" src="" alt="Restaurant" class="w-full h-full object-cover">
                </div>
                
                <div class="p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h2 id="modal-restaurant-name" class="text-2xl font-bold"></h2>
                            <div class="flex items-center text-sm text-gray-500 mt-1">
                                <span id="modal-restaurant-category" class="mr-2"></span>
                                <span>• <span id="modal-restaurant-distance"></span></span>
                            </div>
                        </div>
                        <div class="flex items-center bg-gray-100 px-3 py-1 rounded-full">
                            <i class="fas fa-star text-yellow-400 mr-1"></i>
                            <span id="modal-restaurant-rating"></span>
                        </div>
                    </div>
                    
                    <div class="flex items-center text-sm mb-6">
                        <span class="mr-2"><span id="modal-restaurant-time"></span> min</span>
                        <span>• R$ <span id="modal-restaurant-fee"></span></span>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-lg mb-3">Cardápio</h3>
                        <div id="menu-items" class="space-y-4">
                            <!-- Menu items will be added here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for restaurants and menu items
        const restaurants = [
            {
                id: 1,
                name: "Pizzaria Napoli",
                category: "Pizza • Italiana",
                distance: "1.2 km",
                rating: 4.8,
                time: "30-40",
                fee: "5,00",
                image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                menu: [
                    { id: 101, name: "Pizza Margherita", description: "Molho de tomate, mussarela, manjericão", price: 39.90 },
                    { id: 102, name: "Pizza Calabresa", description: "Molho de tomate, mussarela, calabresa, cebola", price: 44.90 },
                    { id: 103, name: "Pizza Quatro Queijos", description: "Molho de tomate, mussarela, provolone, parmesão, gorgonzola", price: 49.90 },
                    { id: 104, name: "Pizza Portuguesa", description: "Molho de tomate, mussarela, presunto, ovos, cebola, azeitonas", price: 47.90 }
                ]
            },
            {
                id: 2,
                name: "Burger King",
                category: "Fast Food • Lanches",
                distance: "0.8 km",
                rating: 4.6,
                time: "20-30",
                fee: "4,50",
                image: "https://images.unsplash.com/photo-1559847844-5315695dadae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",
                menu: [
                    { id: 201, name: "Whopper", description: "Pão com gergelim, hambúrguer, queijo, alface, tomate, maionese", price: 22.90 },
                    { id: 202, name: "Cheeseburger Duplo", description: "Dois hambúrgueres, queijo, picles, ketchup, mostarda, cebola", price: 18.90 },
                    { id: 203, name: "Chicken Jr.", description: "Filé de frango empanado, alface, maionese", price: 15.90 },
                    { id: 204, name: "Batata Frita Média", description: "Porção de batata frita crocante", price: 9.90 }
                ]
            },
            {
                id: 3,
                name: "Sushi Place",
                category: "Japonesa • Sushi",
                distance: "1.5 km",
                rating: 4.9,
                time: "40-50",
                fee: "6,00",
                image: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                menu: [
                    { id: 301, name: "Combinado Sushi", description: "10 peças de sushi variado", price: 59.90 },
                    { id: 302, name: "Temaki de Salmão", description: "Cone de alga recheado com salmão, arroz e cream cheese", price: 24.90 },
                    { id: 303, name: "Sashimi Mix", description: "12 fatias de peixe cru variado", price: 69.90 },
                    { id: 304, name: "Hot Roll", description: "10 unidades de sushi empanado e frito", price: 39.90 }
                ]
            },
            {
                id: 4,
                name: "Feijoada da Casa",
                category: "Brasileira • Tradicional",
                distance: "0.5 km",
                rating: 4.7,
                time: "15-25",
                fee: "3,50",
                image: "https://images.unsplash.com/photo-1544025162-d76694265947?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",
                menu: [
                    { id: 401, name: "Feijoada Completa", description: "Feijão preto com carne de porco, linguiça, acompanhamentos", price: 35.90 },
                    { id: 402, name: "Prato Executivo", description: "Arroz, feijão, bife, batata frita, salada", price: 29.90 },
                    { id: 403, name: "Frango à Passarinho", description: "Porção de frango frito com farofa", price: 32.90 },
                    { id: 404, name: "Feijão Tropeiro", description: "Feijão com linguiça, bacon, farinha de mandioca", price: 27.90 }
                ]
            },
            {
                id: 5,
                name: "Salad & Co",
                category: "Saudável • Saladas",
                distance: "1.0 km",
                rating: 4.5,
                time: "20-30",
                fee: "4,00",
                image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                menu: [
                    { id: 501, name: "Salada Caesar", description: "Alface, croutons, parmesão, molho caesar", price: 24.90 },
                    { id: 502, name: "Bowl de Quinoa", description: "Quinoa, abacate, tomate, pepino, grão de bico", price: 29.90 },
                    { id: 503, name: "Wrap de Frango", description: "Tortilla integral com frango grelhado e vegetais", price: 22.90 },
                    { id: 504, name: "Suco Detox", description: "Suco verde com couve, abacaxi e gengibre", price: 12.90 }
                ]
            },
            {
                id: 6,
                name: "Doceria da Vó",
                category: "Doces • Sobremesas",
                distance: "0.7 km",
                rating: 4.8,
                time: "15-25",
                fee: "3,00",
                image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",
                menu: [
                    { id: 601, name: "Brigadeiro Gourmet", description: "4 unidades de brigadeiro gourmet variados", price: 19.90 },
                    { id: 602, name: "Bolo de Chocolate", description: "Fatia de bolo de chocolate com calda", price: 14.90 },
                    { id: 603, name: "Torta de Limão", description: "Fatia de torta de limão com merengue", price: 16.90 },
                    { id: 604, name: "Cheesecake de Morango", description: "Fatia de cheesecake com calda de morango", price: 18.90 }
                ]
            }
        ];

        // Cart state
        let cart = [];
        let currentRestaurant = null;

        // DOM elements
        const cartBtn = document.getElementById('cart-btn');
        const closeCartBtn = document.getElementById('close-cart');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCount = document.getElementById('cart-count');
        const subtotalEl = document.getElementById('subtotal');
        const deliveryFeeEl = document.getElementById('delivery-fee');
        const totalEl = document.getElementById('total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const restaurantModal = document.getElementById('restaurant-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const restaurantCards = document.querySelectorAll('.restaurant-card');

        // Event listeners
        cartBtn.addEventListener('click', toggleCart);
        closeCartBtn.addEventListener('click', toggleCart);
        closeModalBtn.addEventListener('click', closeModal);
        checkoutBtn.addEventListener('click', checkout);

        // Category filter
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                categoryBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                // In a real app, we would filter restaurants here
            });
        });

        // Restaurant card click
        restaurantCards.forEach((card, index) => {
            card.addEventListener('click', () => {
                openRestaurantModal(restaurants[index]);
            });
        });

        // Functions
        function toggleCart() {
            cartSidebar.classList.toggle('cart-open');
            cartSidebar.classList.toggle('cart-closed');
        }

        function openRestaurantModal(restaurant) {
            currentRestaurant = restaurant;
            
            // Set modal content
            document.getElementById('modal-restaurant-name').textContent = restaurant.name;
            document.getElementById('modal-restaurant-category').textContent = restaurant.category;
            document.getElementById('modal-restaurant-distance').textContent = restaurant.distance;
            document.getElementById('modal-restaurant-rating').textContent = restaurant.rating;
            document.getElementById('modal-restaurant-time').textContent = restaurant.time;
            document.getElementById('modal-restaurant-fee').textContent = restaurant.fee;
            document.getElementById('modal-restaurant-image').src = restaurant.image;
            
            // Clear previous menu items
            const menuItemsContainer = document.getElementById('menu-items');
            menuItemsContainer.innerHTML = '';
            
            // Add menu items
            restaurant.menu.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'food-item bg-white p-4 rounded-lg shadow-sm border border-gray-100 cursor-pointer hover:border-red-200 transition';
                menuItem.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-medium">${item.name}</h4>
                            <p class="text-sm text-gray-500 mt-1">${item.description}</p>
                            <p class="text-red-600 font-medium mt-2">R$ ${item.price.toFixed(2).replace('.', ',')}</p>
                        </div>
                        <button class="add-to-cart-btn bg-red-600 text-white px-3 py-1 rounded-full text-sm hover:bg-red-700" 
                                data-id="${item.id}" data-name="${item.name}" data-price="${item.price}">
                            Adicionar
                        </button>
                    </div>
                `;
                menuItemsContainer.appendChild(menuItem);
            });
            
            // Show modal
            restaurantModal.classList.remove('hidden');
            
            // Add event listeners to add-to-cart buttons
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = parseInt(btn.dataset.id);
                    const name = btn.dataset.name;
                    const price = parseFloat(btn.dataset.price);
                    addToCart(id, name, price, currentRestaurant.id, currentRestaurant.name);
                });
            });
        }

        function closeModal() {
            restaurantModal.classList.add('hidden');
        }

        function addToCart(id, name, price, restaurantId, restaurantName) {
            // Check if item already exists in cart
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id,
                    name,
                    price,
                    quantity: 1,
                    restaurantId,
                    restaurantName
                });
            }
            
            updateCart();
            showAddedToCartNotification(name);
        }

        function updateCart() {
            // Update cart count
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // Update cart items
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-2"></i>
                        <p>Seu carrinho está vazio</p>
                    </div>
                `;
                checkoutBtn.disabled = true;
            } else {
                cartItemsContainer.innerHTML = '';
                
                // Group items by restaurant
                const restaurantsInCart = [...new Set(cart.map(item => item.restaurantId))];
                
                restaurantsInCart.forEach(restaurantId => {
                    const restaurant = restaurants.find(r => r.id === restaurantId);
                    const restaurantItems = cart.filter(item => item.restaurantId === restaurantId);
                    
                    // Add restaurant header
                    const restaurantHeader = document.createElement('div');
                    restaurantHeader.className = 'mb-4';
                    restaurantHeader.innerHTML = `
                        <div class="flex items-center mb-2">
                            <i class="fas fa-store text-gray-400 mr-2"></i>
                            <h4 class="font-medium">${restaurant.name}</h4>
                        </div>
                    `;
                    cartItemsContainer.appendChild(restaurantHeader);
                    
                    // Add items
                    restaurantItems.forEach(item => {
                        const cartItem = document.createElement('div');
                        cartItem.className = 'flex justify-between items-center mb-4';
                        cartItem.innerHTML = `
                            <div>
                                <p class="font-medium">${item.quantity}x ${item.name}</p>
                                <p class="text-sm text-gray-500">R$ ${item.price.toFixed(2).replace('.', ',')}</p>
                            </div>
                            <div class="flex items-center">
                                <button class="decrease-quantity text-gray-500 px-2" data-id="${item.id}">
                                    <i class="fas fa-minus text-xs"></i>
                                </button>
                                <span class="mx-2">${item.quantity}</span>
                                <button class="increase-quantity text-gray-500 px-2" data-id="${item.id}">
                                    <i class="fas fa-plus text-xs"></i>
                                </button>
                                <button class="remove-item text-red-500 ml-4" data-id="${item.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        cartItemsContainer.appendChild(cartItem);
                    });
                });
                
                // Add event listeners to quantity buttons
                document.querySelectorAll('.increase-quantity').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(btn.dataset.id);
                        const item = cart.find(item => item.id === id);
                        if (item) item.quantity += 1;
                        updateCart();
                    });
                });
                
                document.querySelectorAll('.decrease-quantity').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(btn.dataset.id);
                        const item = cart.find(item => item.id === id);
                        if (item) {
                            item.quantity -= 1;
                            if (item.quantity <= 0) {
                                cart = cart.filter(i => i.id !== id);
                            }
                        }
                        updateCart();
                    });
                });
                
                document.querySelectorAll('.remove-item').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(btn.dataset.id);
                        cart = cart.filter(item => item.id !== id);
                        updateCart();
                    });
                });
                
                checkoutBtn.disabled = false;
            }
            
            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const deliveryFee = cart.length > 0 ? 5 : 0;
            const total = subtotal + deliveryFee;
            
            subtotalEl.textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
            deliveryFeeEl.textContent = `R$ ${deliveryFee.toFixed(2).replace('.', ',')}`;
            totalEl.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        function showAddedToCartNotification(itemName) {
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center';
            notification.innerHTML = `
                <i class="fas fa-check-circle mr-2"></i>
                <span>${itemName} adicionado ao carrinho!</span>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        function checkout() {
            alert('Pedido finalizado com sucesso! Obrigado por comprar conosco.');
            cart = [];
            updateCart();
            toggleCart();
        }

        // Close modal when clicking outside
        restaurantModal.addEventListener('click', (e) => {
            if (e.target === restaurantModal) {
                closeModal();
            }
        });
    </script>
</body>
</html>